<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Sql注入学习总结 | Vincent</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="今天对前面的sql注入学习做一个总结">
<meta property="og:type" content="article">
<meta property="og:title" content="Sql注入学习总结">
<meta property="og:url" content="http://handsome-vincent.space/2023/06/16/Sql%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="Vincent">
<meta property="og:description" content="今天对前面的sql注入学习做一个总结">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-06-16T09:55:09.000Z">
<meta property="article:modified_time" content="2023-09-29T14:41:33.122Z">
<meta property="article:author" content="Vincent">
<meta property="article:tag" content="sql">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Vincent" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/logo.jpg" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">Vincent</a></h1>
		</hgroup>

		
			<p class="header-subtitle"></p>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Archives</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
						<!-- music -->
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/file-inclusion/" style="font-size: 13.33px;">file_inclusion</a> <a href="/tags/file-upload/" style="font-size: 15px;">file_upload</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/python/" style="font-size: 18.33px;">python</a> <a href="/tags/sql/" style="font-size: 20px;">sql</a> <a href="/tags/vuln/" style="font-size: 11.67px;">vuln</a> <a href="/tags/xss/" style="font-size: 16.67px;">xss</a> <a href="/tags/xxe/" style="font-size: 10px;">xxe</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">不与无谓人争气</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/logo.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Archives</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Sql注入学习总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/06/16/Sql%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/" class="article-date">
  	<time datetime="2023-06-16T09:55:09.000Z" itemprop="datePublished">2023-06-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Sql注入学习总结
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql/" rel="tag">sql</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/SQL-Study/">SQL_Study</a>
	</div>


        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天对前面的sql注入学习做一个总结</p>
<span id="more"></span>

<p>对应博客笔记:<a target="_blank" rel="noopener" href="https://www.handsome-vincent.space/categories/SQL-Study/">https://www.handsome-vincent.space/categories/SQL-Study/</a></p>
<p><strong>注意这篇文章仅仅只是针对于MySQL数据库的</strong></p>
<h1 id="基本增删改查"><a href="#基本增删改查" class="headerlink" title="基本增删改查"></a>基本增删改查</h1><p>对应博客笔记的1,2</p>
<h1 id="简单数字型注入字符型注入"><a href="#简单数字型注入字符型注入" class="headerlink" title="简单数字型注入字符型注入"></a>简单数字型注入字符型注入</h1><p>博客#3,用到的函数和语句:</p>
<ul>
<li>order by n 判断字段数(group by 也可以)</li>
<li>union select 联合查询(联合的是前面待拼接的select语句)</li>
<li>基本语句见博客分类下的3</li>
</ul>
<h2 id="字符型注入"><a href="#字符型注入" class="headerlink" title="字符型注入"></a>字符型注入</h2><p>用到的函数和语句几乎同上,不同:</p>
<ul>
<li>闭合方式单引号双引号几个括号</li>
<li>注释 –,#,&#x2F;* *&#x2F;,&#x2F;*! *&#x2F;(感叹号后面需要版本号一般写90000就够了)</li>
</ul>
<h1 id="其他注入方式"><a href="#其他注入方式" class="headerlink" title="其他注入方式"></a>其他注入方式</h1><h2 id="extractvalue报错注入-博客-4"><a href="#extractvalue报错注入-博客-4" class="headerlink" title="extractvalue报错注入 博客#4"></a>extractvalue报错注入 博客#4</h2><p>extractvalue(随便写,concat(不可能被识别的字符,(注入语句)))</p>
<p>extractvalue介绍见博客分类下#4 主要就是通过xpath语句报错回显<br>concat函数拼接所有参数为一个字符串(博客也有)</p>
<h2 id="updatexml报错注入-博客-5"><a href="#updatexml报错注入-博客-5" class="headerlink" title="updatexml报错注入 博客#5"></a>updatexml报错注入 博客#5</h2><p>updatexml(随便写,concat(不可能被识别的字符,(注入语句),随便写))</p>
<p>前两个参数和上面一样,第三个参数就是找到第二个xpath语句找到的参数后要替换的内容,实战中不可能匹配上,因此不会执行<br>报错返回32字符报错(去掉concat第一个参数只有31个)</p>
<h2 id="floor报错注入-博客-6"><a href="#floor报错注入-博客-6" class="headerlink" title="floor报错注入 博客#6"></a>floor报错注入 博客#6</h2><p>  他的主要函数:</p>
<ul>
<li>floor(int)向下去整(我觉得就是去尾)</li>
<li>rand(n)生成随机数,是种子,填入特定值后不再是随机数</li>
<li>count(列名)相当于Python的count函数,具体的博客文章介绍很清晰</li>
<li>concat_ws(1,2,3)第2,3个参数用第一个参数连接</li>
<li>as x group by x 将结果保存到x然后对x分组<br>主要原理:<br>count函数添加数据时会重新计算数据使floor(rand(0)*2)稳定造成报错利用错误回显<br>返回64字符报错</li>
</ul>
<h2 id="布尔盲注-博客-7"><a href="#布尔盲注-博客-7" class="headerlink" title="布尔盲注 博客#7"></a>布尔盲注 博客#7</h2><p>  他的函数很多:</p>
<ul>
<li>length(字符)  相当于Python的len()</li>
<li>ascii(字符)  相当于Python的ord()</li>
<li>substr&#x2F;substring(字符串,起始,长度)切割作用,相当于Python的string[起始:结束]</li>
<li>strcmp(string1,string2) (博客#17)字符串ascii比较大小</li>
<li>ifnull() <a target="_blank" rel="noopener" href="https://www.handsome-vincent.space/2023/06/15/Sql%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-17/#ifnull%E5%87%BD%E6%95%B0">#17</a> 原理和if差不多</li>
</ul>
<p>  原理就是利用界面样式布尔判断:<br>  如果手动试很麻烦,需要借助Python写一个爆破脚本啥的</p>
<h2 id="时间盲注-博客-8"><a href="#时间盲注-博客-8" class="headerlink" title="时间盲注 博客#8"></a>时间盲注 博客#8</h2><p>  界面没有改变的时候不可以使用布尔盲注时可以用这个<br>  主要函数:</p>
<ul>
<li>if(判断条件,true执行语句,false执行语句)</li>
<li>sleep(int)<br>主要原理,利用界面响应时间布尔判断</li>
</ul>
<h2 id="文件上传-博客-8"><a href="#文件上传-博客-8" class="headerlink" title="文件上传 博客#8"></a>文件上传 博客#8</h2><p>  主要语句:</p>
<ul>
<li>“PHP webshell” into outfile “转义路径” 然后用菜刀或蚁剑连</li>
</ul>
<h2 id="dnslog盲注-博客-9"><a href="#dnslog盲注-博客-9" class="headerlink" title="dnslog盲注 博客#9"></a>dnslog盲注 博客#9</h2><p>  主要语句函数:</p>
<ul>
<li>load_file(路径)</li>
<li>前面加上’’&#x2F;&#x2F;‘’就是加载网络路径了用 <a target="_blank" rel="noopener" href="http://www.dnslog.cn/">www.dnslog.cn</a> 获取回显,更高效率<br>自动化dnslog不得劲不讲了,博客里面也讲了</li>
</ul>
<h2 id="堆叠注入"><a href="#堆叠注入" class="headerlink" title="堆叠注入"></a>堆叠注入</h2><p> 通过mysqli_multi_query注入,<br> 在语句后面加上分号,具体见#17</p>
<h1 id="post下的注入-博客-10"><a href="#post下的注入-博客-10" class="headerlink" title="post下的注入 博客#10"></a>post下的注入 博客#10</h1><p>  函数什么的注入方式什么的同上,只是位置变为了post,需要配合burpsuite抓包获取post格式<br>http头下的注入 博客#11</p>
<ul>
<li>ua注入就是在UA里面编辑</li>
<li>cookie注入就是在cookie里面编辑</li>
<li>referer注入就是在referer里面编辑</li>
<li>xff注入就是在X-Forwarded-For里面编辑</li>
</ul>
<h1 id="绕过过滤"><a href="#绕过过滤" class="headerlink" title="绕过过滤"></a>绕过过滤</h1><p>绕过过滤姿势,博客12,13,14</p>
<p>后面也许会研究研究bypass 安全狗</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/06/17/%E5%A2%A8%E5%AE%A2%E9%9D%B6%E5%9C%BA%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          墨客靶场打靶随记
        
      </div>
    </a>
  
  
    <a href="/2023/06/16/sql-labs%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">sql-labs打靶随记</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2023 Vincent
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




  </div>
</body>
</html>